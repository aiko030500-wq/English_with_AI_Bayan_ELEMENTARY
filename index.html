<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ENGLISH WITH AI BAYAN ‚Äì Intermediate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root{
      /* Burgundy palette */
      --blue-main:#7b1f3a;
      --blue-soft:#a13a50;
      --gold:#ffd54f;
      --bg:#f9f4f6;
      --topicColor:#7b1f3a;
    }

    *{
      box-sizing:border-box;
      margin:0;
      padding:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    }

    body{
      background:var(--bg);
      color:#3b1d23;
    }

    /* HEADER WITH GIRL LOGO */
    header{
      background:linear-gradient(90deg,var(--blue-main),var(--blue-soft));
      color:#fff;
      padding:10px 24px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      box-shadow:0 2px 6px rgba(0,0,0,.2);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }

    .logo-img{
      width:50px;
      height:50px;
      border-radius:50%;
      object-fit:cover;
      border:3px solid var(--gold);
      background:white;
    }

    .brand-text h1{
      font-size:18px;
      letter-spacing:.04em;
    }

    .brand-text span{
      font-size:12px;
      opacity:.9;
    }

    .top-info{
      font-size:13px;
      text-align:right;
    }
    .top-info strong{color:var(--gold);}

    main{
      padding:16px;
      max-width:1300px;
      margin:0 auto;
    }

    .card{
      background:#fff;
      border-radius:14px;
      box-shadow:0 4px 14px rgba(0,0,0,.08);
      padding:20px;
    }

    .hidden{display:none !important;}

    .section-title{
      font-size:18px;
      margin-bottom:10px;
      font-weight:600;
    }
    .muted{
      color:#705e68;
      font-size:12px;
    }

    .field-label{
      font-size:14px;
      margin-bottom:4px;
    }

    .text-input{
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid #c9b7c0;
      margin-bottom:14px;
      font-size:14px;
    }
    .text-input:focus{
      outline:none;
      border-color:var(--blue-soft);
      box-shadow:0 0 0 2px rgba(161,58,80,.25);
    }

    .btn{
      border:none;
      border-radius:10px;
      padding:10px 18px;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:6px;
    }
    .btn-primary{
      background:var(--blue-soft);
      color:#fff;
    }
    .btn-primary:hover{background:#8c3246;}
    .btn-ghost{
      background:#f4e5ea;
      color:var(--blue-main);
    }
    .btn-ghost:hover{background:#ead2db;}

    .login-note{
      font-size:12px;
      color:#705e68;
      margin-top:10px;
      line-height:1.4;
    }

    .error{
      margin-top:10px;
      color:#b00020;
      font-size:13px;
    }

    /* SCREENS */
    #loginScreen{
      max-width:520px;
      margin:40px auto;
    }

    #mainMenuScreen{
      display:grid;
      grid-template-columns:2fr 1.2fr;
      gap:16px;
    }
    @media(max-width:960px){
      #mainMenuScreen{
        grid-template-columns:1fr;
      }
    }

    .tag{
      display:inline-block;
      padding:2px 6px;
      border-radius:999px;
      background:#fbe9eb;
      font-size:11px;
      color:var(--blue-main);
    }

    .top-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
      gap:8px;
      margin-bottom:12px;
    }

    .stars-badge{
      display:inline-flex;
      align-items:center;
      gap:4px;
      padding:4px 8px;
      border-radius:999px;
      background:#fff9e5;
      border:1px solid #ffe082;
      font-size:12px;
    }
    .star-icon{color:#ffb300;}

    .topics-grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
      margin-top:8px;
    }
    @media(max-width:700px){
      .topics-grid{grid-template-columns:1fr;}
    }

    .topic-card{
      border-radius:12px;
      border:1px solid #e1c3cf;
      padding:10px 12px;
      background:#fdf7fa;
      cursor:pointer;
      transition:.15s;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .topic-card:hover{
      background:#f7dde9;
      transform:translateY(-1px);
    }
    .topic-card-title{
      font-size:14px;
      font-weight:600;
    }
    .topic-card-sub{
      font-size:11px;
      color:#705e68;
    }

    /* AI PANEL (demo) */
    #aiPanel{
      background:#fff;
      border-radius:14px;
      padding:14px;
      box-shadow:0 2px 10px rgba(0,0,0,.06);
      display:flex;
      flex-direction:column;
      gap:8px;
      min-height:260px;
    }
    #aiPanel h3{
      font-size:15px;
      margin-bottom:4px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:6px;
    }
    #aiLimit{
      font-size:11px;
    }
    .chat-note{
      font-size:11px;
      color:#705e68;
    }
    .chat-box{
      flex:1;
      border-radius:10px;
      border:1px solid #e1c3cf;
      padding:8px;
      background:#fdf7fa;
      font-size:13px;
      overflow-y:auto;
    }
    .chat-msg{
      margin-bottom:6px;
      line-height:1.4;
    }
    .chat-msg strong{color:var(--blue-main);}
    #aiQuestion{
      width:100%;
      min-height:60px;
      resize:vertical;
      border-radius:10px;
      border:1px solid #c9b7c0;
      padding:8px;
      font-size:13px;
      margin-top:4px;
    }
    #aiQuestion:focus{
      outline:none;
      border-color:var(--blue-soft);
      box-shadow:0 0 0 2px rgba(161,58,80,.2);
    }
    .chat-actions{
      display:flex;
      justify-content:flex-end;
      margin-top:4px;
    }

    /* TOPIC SCREEN */
    #topicScreen{
      max-width:1000px;
      margin:0 auto;
    }
    .topic-header{
      border-radius:16px 16px 0 0;
      padding:14px 16px;
      background:linear-gradient(90deg,var(--topicColor),#b34765);
      color:#fff;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    .topic-header-main{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .topic-header-title{
      font-size:18px;
      font-weight:600;
    }
    .topic-header-tag{
      font-size:11px;
      opacity:.9;
    }
    .topic-header-buttons{
      display:flex;
      gap:6px;
      flex-wrap:wrap;
    }
    .btn-topic{
      border:none;
      border-radius:999px;
      padding:6px 12px;
      font-size:12px;
      cursor:pointer;
      font-weight:600;
    }
    .btn-topic.back{
      background:#ffffff;
      color:var(--topicColor);
    }
    .btn-topic.menu{
      background:rgba(255,255,255,.15);
      color:#fff;
      border:1px solid rgba(255,255,255,.5);
    }

    .topic-body{
      background:#fff;
      border-radius:0 0 16px 16px;
      box-shadow:0 4px 14px rgba(0,0,0,.08);
      padding:16px;
    }

    .grammar-box{
      background:#fdf3f6;
      border-left:4px solid var(--topicColor);
      padding:10px 12px;
      border-radius:10px;
      margin-bottom:12px;
      font-size:14px;
      line-height:1.5;
    }
    .grammar-box strong{color:var(--blue-main);}
    .formula{
      font-family:"Consolas","Courier New",monospace;
      background:#f7dde9;
      padding:3px 6px;
      border-radius:6px;
      margin-right:4px;
      display:inline-block;
      margin-top:4px;
    }
    .examples{
      margin-top:8px;
      font-size:13px;
    }
    .examples li{
      margin-left:18px;
      margin-bottom:2px;
    }
    .grammar-ru{
      margin-top:10px;
      font-size:13px;
      color:#3b1d23;
    }

    .exercises{
      margin-top:12px;
    }
    .exercise-block{
      border-radius:12px;
      background:#fdf7fa;
      padding:10px 12px;
      margin-bottom:10px;
      border:1px solid #e1c3cf;
    }
    .exercise-title{
      font-size:14px;
      font-weight:600;
      margin-bottom:6px;
    }
    .question-row{
      font-size:13px;
      margin-bottom:6px;
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:6px;
    }
    .question-text{
      flex:1 1 160px;
    }
    .options{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      align-items:center;
    }
    .options label{
      background:#ffffff;
      border-radius:999px;
      border:1px solid #e1c3cf;
      padding:2px 8px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:3px;
    }
    .options input[type="radio"]{
      accent-color:var(--topicColor);
    }
    .mark{
      width:18px;
      text-align:center;
      font-size:16px;
      font-weight:700;
    }
    .mark.correct{color:#2e7d32;}
    .mark.wrong{color:#c62828;}
    .exercise-footer{
      margin-top:6px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
    }
    .exercise-footer small{
      font-size:11px;
      color:#705e68;
    }

    /* TEACHER */
    #teacherScreen{
      margin-top:20px;
    }
    .top-buttons{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-bottom:8px;
    }
    .table-wrapper{
      overflow-x:auto;
    }
    table{
      width:100%;
      border-collapse:collapse;
      font-size:13px;
      margin-top:10px;
    }
    th,td{
      border:1px solid #e1c3cf;
      padding:6px 8px;
      text-align:left;
      white-space:nowrap;
    }
    th{
      background:#f7dde9;
      font-weight:600;
    }

    /* PRINT: only topic */
    @media print{
      header, #loginScreen, #mainMenuScreen, #teacherScreen{
        display:none !important;
      }
      body{
        background:#fff;
      }
      #topicScreen{
        display:block !important;
        margin:0;
        padding:0;
      }
      .topic-body{
        box-shadow:none;
        border-radius:0;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="brand">
    <img src="logo.png" alt="AI Bayan" class="logo-img">
    <div class="brand-text">
      <h1>ENGLISH WITH AI BAYAN</h1>
      <span>Intermediate ¬∑ 20 grammar topics</span>
    </div>
  </div>
  <div class="top-info" id="topInfo">Not logged in</div>
</header>

<main>
  <!-- LOGIN -->
  <section id="loginScreen" class="card">
    <h2 class="section-title">Login</h2>
    <p class="muted" style="margin-bottom:10px">
      Enter your <strong>Name</strong> and <strong>Code</strong>. Ask your teacher for the code.
    </p>

    <label class="field-label" for="loginName">Name</label>
    <input id="loginName" class="text-input" type="text" placeholder="Your name" />

    <label class="field-label" for="loginCode">Code</label>
    <input id="loginCode" class="text-input" type="password" placeholder="Student or teacher code" />

    <div style="display:flex;gap:8px;margin-top:4px">
      <button class="btn btn-primary" onclick="handleLogin()">Login</button>
      <button class="btn btn-ghost" onclick="backToLogin()">Reset</button>
    </div>

    <div id="loginError" class="error hidden"></div>

    <!-- No PIN ranges or teacher code hints on screen -->
    <p class="login-note">
      Your teacher will give you your personal student code and the teacher code.
    </p>
  </section>

  <!-- MAIN MENU (STUDENT) -->
  <section id="mainMenuScreen" class="hidden">
    <section class="card">
      <div class="top-row">
        <div>
          <h2 class="section-title" style="margin-bottom:4px;">Intermediate grammar topics</h2>
          <div id="menuInfo" class="muted"></div>
        </div>
        <div>
          <span class="stars-badge">
            <span class="star-icon">‚≠ê</span>
            Stars: <span id="menuStars">0</span>
          </span>
        </div>
      </div>

      <div class="topics-grid" id="menuTopics"></div>
    </section>

    <aside id="aiPanel">
      <div>
        <h3>
          AI Bayan
          <span id="aiLimit"></span>
        </h3>
        <p class="chat-note">
          Demo mode. AI chat will be added later.
        </p>
      </div>

      <div id="chatBox" class="chat-box"></div>

      <div>
        <textarea id="aiQuestion"
                  placeholder="AI chat will be available soon."
                  disabled></textarea>
        <div class="chat-actions">
          <button class="btn btn-primary" id="askBtn" disabled>Ask (soon)</button>
        </div>
        <p class="chat-note">
          Your questions will be visible for the teacher in the future version.
        </p>
      </div>
    </aside>
  </section>

  <!-- TOPIC SCREEN -->
  <section id="topicScreen" class="hidden">
    <div class="topic-header">
      <div class="topic-header-main">
        <div class="topic-header-title" id="topicHeaderTitle">Topic</div>
        <div class="topic-header-tag" id="topicHeaderTag"></div>
      </div>
      <div class="topic-header-buttons">
        <button class="btn-topic back" onclick="backToMenu()">‚Üê Back</button>
        <button class="btn-topic menu" onclick="backToMenu()">üè† Main menu</button>
        <button class="btn-topic menu" onclick="printCurrentTopic()">üñ® Print</button>
      </div>
    </div>
    <div class="topic-body">
      <div id="topicRuleContainer"></div>
      <div id="topicExercisesContainer"></div>
      <div id="topicStatus" class="muted" style="margin-top:8px;"></div>
    </div>
  </section>

  <!-- TEACHER -->
  <section id="teacherScreen" class="hidden card">
    <div class="top-buttons">
      <button class="btn btn-ghost" onclick="backToLogin()">‚Üê Back to login</button>
      <span class="tag">Teacher mode</span>
    </div>
    <h2 class="section-title">Teacher dashboard</h2>
    <p class="muted">
      Shows data saved in this browser: stars and last login (per code).
    </p>

    <div class="table-wrapper">
      <table id="teacherTable">
        <thead>
          <tr>
            <th>Class</th>
            <th>Code</th>
            <th>Name</th>
            <th>Stars</th>
            <th>Last login</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </section>
</main>

<script>
/* ---------- CLASS RANGES (PIN) ---------- */

const classRanges = [
  { cls: "3E",  from: 101,  to: 115 },
  { cls: "4G",  from: 201,  to: 215 },
  { cls: "5G",  from: 301,  to: 315 },
  { cls: "5Zh", from: 401,  to: 415 },
  { cls: "6G",  from: 501,  to: 515 },
  { cls: "7B",  from: 601,  to: 615 },
  { cls: "7V",  from: 701,  to: 715 },
  { cls: "8E",  from: 801,  to: 815 },
  { cls: "9Zh", from: 901,  to: 915 },
  { cls: "10A", from: 1001, to: 1015 }
];

function getClassByCode(num){
  for (const r of classRanges){
    if (num >= r.from && num <= r.to){
      return r.cls;
    }
  }
  return null;
}

/* ---------- TOPIC COLORS ---------- */

const topicColors = {
  1:"#7b1f3a",
  2:"#8e2442",
  3:"#a13a50",
  4:"#b34765",
  5:"#5d1a2e",
  6:"#7b1f3a",
  7:"#8e2442",
  8:"#a13a50",
  9:"#b34765",
  10:"#5d1a2e",
  11:"#7b1f3a",
  12:"#8e2442",
  13:"#a13a50",
  14:"#b34765",
  15:"#5d1a2e",
  16:"#7b1f3a",
  17:"#8e2442",
  18:"#a13a50",
  19:"#b34765",
  20:"#5d1a2e"
};

/* ---------- TOPICS (20 INTERMEDIATE, 7 exercises per topic) ---------- */

const topics = [

/* ============================================================
   ================       TOPIC 1      =========================
   ============================================================ */
{
id:1,
title:"Present Perfect vs Past Simple",
level:"Intermediate",
explanation:"Present Perfect is used for life experience and results connected with now; Past Simple is used for finished past actions with a clear time.",
ruleRu:"Present Perfect ‚Äì –æ–ø—ã—Ç/—Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏; Past Simple ‚Äì –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏.",
formulas:["have/has + V3","V2 / V-ed"],
examples:[
 "I have seen this film three times.",
 "I saw this film last year."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I ____ (see) this movie already.", options:["have seen","saw"], correct:0},
{text:"She ____ (visit) Rome last summer.", options:["visited","has visited"], correct:0},
{text:"They ____ (finish) the project.", options:["have finished","finished"], correct:0},
{text:"We ____ (meet) him yesterday.", options:["met","have met"], correct:0},
{text:"He ____ (travel) abroad many times.", options:["has traveled","traveled"], correct:0},
{text:"I ____ (eat) breakfast at 8 a.m.", options:["ate","have eaten"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I ____ (not see) him today.", options:["haven't seen","didn't see"], correct:0},
{text:"She ____ (not go) to school yesterday.", options:["didn't go","hasn't gone"], correct:0},
{text:"They ____ (not finish) yet.", options:["haven't finished","didn't finish"], correct:0},
{text:"He ____ (not call) me last night.", options:["didn't call","hasn't called"], correct:0},
{text:"We ____ (not start) yet.", options:["haven't started","didn't start"], correct:0},
{text:"I ____ (not eat) yesterday morning.", options:["didn't eat","haven't eaten"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"____ you ever ____ (try) sushi?", options:["Have you tried","Did you try"], correct:0},
{text:"When ____ you ____ (meet) him?", options:["did you meet","have you met"], correct:0},
{text:"____ she ____ (be) to Italy?", options:["Has she been","Did she be"], correct:0},
{text:"Where ____ you ____ (go) yesterday?", options:["did you go","have you gone"], correct:0},
{text:"How long ____ you ____ (study)?", options:["have you studied","did you study"], correct:0},
{text:"When ____ he ____ (finish)?", options:["did he finish","has he finished"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"already / I / finished / homework", options:["I have already finished homework.","Already I have finished homework."], correct:0},
{text:"saw / I / him / yesterday", options:["I saw him yesterday.","I yesterday saw him."], correct:0},
{text:"never / she / has / traveled", options:["She has never traveled.","Never she has traveled."], correct:0},
{text:"last year / went / they / abroad", options:["They went abroad last year.","Went they abroad last year."], correct:0},
{text:"haven't / we / finished / yet", options:["We haven't finished yet.","We haven't yet finished."], correct:0},
{text:"left / he / two days ago", options:["He left two days ago.","He ago left two days."], correct:0}
]
},

/* ----------------- 5) BUILD THE SENTENCE ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(he / finish / already)", options:["He has already finished.","He finished already."], correct:0},
{text:"(I / see / him / yesterday)", options:["I saw him yesterday.","I have seen him yesterday."], correct:0},
{text:"(they / never / be / to London)", options:["They have never been to London.","They never were to London."], correct:0},
{text:"(she / call / me / last night)", options:["She called me last night.","She has called me last night."], correct:0},
{text:"(we / just / start)", options:["We have just started.","We just started."], correct:0},
{text:"(he / finish / an hour ago)", options:["He finished an hour ago.","He has finished an hour ago."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–Ø —É–∂–µ —Å–¥–µ–ª–∞–ª –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ.", options:["I have already done my homework.","I already did my homework."], correct:0},
{text:"–û–Ω –µ–∑–¥–∏–ª –≤ –õ–æ–Ω–¥–æ–Ω –≤ –ø—Ä–æ—à–ª–æ–º –≥–æ–¥—É.", options:["He went to London last year.","He has gone to London last year."], correct:0},
{text:"–ú—ã –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª–∏.", options:["We haven't started yet.","We didn't start yet."], correct:0},
{text:"–ö–æ–≥–¥–∞ —Ç—ã –µ–≥–æ –≤–∏–¥–µ–ª?", options:["When did you see him?","When have you seen him?"], correct:0},
{text:"–û–Ω–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–∞ –≤ –ò—Ç–∞–ª–∏–∏.", options:["She has never been to Italy.","She never was to Italy."], correct:0},
{text:"–Ø –ø–æ–µ–ª –≤ 8 —É—Ç—Ä–∞.", options:["I ate at 8 a.m.","I have eaten at 8 a.m."], correct:0}
]
}

]
},

/* ============================================================
   ================       TOPIC 2      =========================
   ============================================================ */
{
id:2,
title:"Present Perfect Continuous",
level:"Intermediate",
explanation:"Actions started in the past and continue until now or have a visible result.",
ruleRu:"–î–µ–π—Å—Ç–≤–∏–µ –Ω–∞—á–∞–ª–æ—Å—å –≤ –ø—Ä–æ—à–ª–æ–º –∏ –¥–ª–∏—Ç—Å—è –¥–æ —Å–∏—Ö –ø–æ—Ä –∏–ª–∏ –≤–∏–¥–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.",
formulas:["have/has been + V-ing"],
examples:[
 "I have been studying for three hours.",
 "She has been working since morning."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I ____ (study) for three hours.", options:["have been studying","have studied"], correct:0},
{text:"She ____ (work) since morning.", options:["has been working","worked"], correct:0},
{text:"They ____ (play) football for two hours.", options:["have been playing","played"], correct:0},
{text:"He ____ (run) since 7 a.m.", options:["has been running","ran"], correct:0},
{text:"We ____ (wait) for you.", options:["have been waiting","waited"], correct:0},
{text:"It ____ (rain) all day.", options:["has been raining","rained"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I ____ (not study) for long.", options:["haven't been studying","didn't study"], correct:0},
{text:"She ____ (not work) since 9.", options:["hasn't been working","didn't work"], correct:0},
{text:"They ____ (not practice) enough.", options:["haven't been practicing","didn't practice"], correct:0},
{text:"He ____ (not sleep) well lately.", options:["hasn't been sleeping","didn't sleep"], correct:0},
{text:"We ____ (not learn) much recently.", options:["haven't been learning","didn't learn"], correct:0},
{text:"It ____ (not snow) this week.", options:["hasn't been snowing","didn't snow"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"How long ____ you ____ (learn) English?", options:["have been learning","have learned"], correct:0},
{text:"What ____ she ____ (do) lately?", options:["has been doing","has done"], correct:0},
{text:"____ they ____ (play) for hours?", options:["Have they been playing","Have they played"], correct:0},
{text:"Why ____ he ____ (cry)?", options:["has been crying","has cried"], correct:0},
{text:"____ it ____ (rain) all day?", options:["Has it been raining","Has it rained"], correct:0},
{text:"Where ____ you ____ (work) recently?", options:["have been working","have worked"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"been / I / working / have / all day", options:["I have been working all day.","I been have working all day."], correct:0},
{text:"has / she / reading / been / since morning", options:["She has been reading since morning.","She reading has been since morning."], correct:0},
{text:"studying / we / have / been / for hours", options:["We have been studying for hours.","We been studying have for hours."], correct:0},
{text:"been / raining / has / it / all week", options:["It has been raining all week.","Has raining been it all week."], correct:0},
{text:"been / cooking / have / they / since 5", options:["They have been cooking since 5.","They cooking since 5 have been."], correct:0},
{text:"has / running / been / he", options:["He has been running.","He running been has."], correct:0}
]
},

/* ----------------- 5) BUILD THE SENTENCE ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / work / since morning)", options:["I have been working since morning.","I am working since morning."], correct:0},
{text:"(she / study / for three hours)", options:["She has been studying for three hours.","She studied for three hours."], correct:0},
{text:"(they / wait / for us)", options:["They have been waiting for us.","They waited for us."], correct:0},
{text:"(he / cry / all day)", options:["He has been crying all day.","He cried all day."], correct:0},
{text:"(we / talk / for an hour)", options:["We have been talking for an hour.","We talked for an hour."], correct:0},
{text:"(it / snow / since night)", options:["It has been snowing since night.","It snowed since night."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–Ø —É—á—É—Å—å —É–∂–µ —Ç—Ä–∏ —á–∞—Å–∞.", options:["I have been studying for three hours.","I study for three hours."], correct:0},
{text:"–û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —É—Ç—Ä–∞.", options:["She has been working since morning.","She works since morning."], correct:0},
{text:"–û–Ω–∏ –∂–¥—É—Ç –Ω–∞—Å —É–∂–µ —á–∞—Å.", options:["They have been waiting for us for an hour.","They wait us for an hour."], correct:0},
{text:"–û–Ω –ø–ª–∞—á–µ—Ç –≤–µ—Å—å –¥–µ–Ω—å.", options:["He has been crying all day.","He cries all day."], correct:0},
{text:"–ú—ã —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–µ–º —É–∂–µ –¥–æ–ª–≥–æ.", options:["We have been talking for a long time.","We talk for a long time."], correct:0},
{text:"–°–Ω–µ–≥ –∏–¥—ë—Ç —Å –Ω–æ—á–∏.", options:["It has been snowing since night.","It snowed since night."], correct:0}
]
}

]

},
/* ============================================================
   ================       TOPIC 3      =========================
   ============================================================ */
{
id:3,
title:"Past Continuous vs Past Simple",
level:"Intermediate",
explanation:"Past Continuous describes a longer background action in the past. Past Simple describes short, finished actions that happened one after another or interrupted the background action.",
ruleRu:"Past Continuous ‚Äì –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –∏–ª–∏ —Ñ–æ–Ω–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º (was/were + V-ing). Past Simple ‚Äì –∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, —á–∞—Å—Ç–æ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ñ–æ–Ω (when/while).",
formulas:["was/were + V-ing","V2 / V-ed"],
examples:[
 "I was watching TV when he called.",
 "It started to rain while we were walking home."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I ____ (watch) TV when he ____ (call).", options:["was watching / called","watched / was calling"], correct:0},
{text:"She ____ (walk) home when it ____ (start) to rain.", options:["was walking / started","walked / was starting"], correct:0},
{text:"They ____ (play) football when I ____ (arrive).", options:["were playing / arrived","played / were arriving"], correct:0},
{text:"We ____ (have) dinner when dad ____ (come) home.", options:["were having / came","had / was coming"], correct:0},
{text:"He ____ (read) a book while his sister ____ (watch) TV.", options:["was reading / was watching","read / watched"], correct:0},
{text:"The sun ____ (shine) and the birds ____ (sing).", options:["was shining / were singing","shone / sang"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I ____ (not sleep) when you ____ (phone).", options:["wasn't sleeping / phoned","didn't sleep / were phoning"], correct:0},
{text:"She ____ (not listen) while the teacher ____ (explain).", options:["wasn't listening / was explaining","didn't listen / explained"], correct:0},
{text:"They ____ (not play) when it ____ (start) to rain.", options:["weren't playing / started","didn't play / was starting"], correct:0},
{text:"We ____ (not talk) when the bell ____ (ring).", options:["weren't talking / rang","didn't talk / was ringing"], correct:0},
{text:"He ____ (not drive) fast when the accident ____ (happen).", options:["wasn't driving / happened","didn't drive / was happening"], correct:0},
{text:"I ____ (not study) while my brother ____ (watch) TV.", options:["wasn't studying / was watching","didn't study / watched"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"What ____ you ____ (do) when he ____ (come)?", options:["were / doing / came","did / do / was coming"], correct:0},
{text:"____ she ____ (sleep) when the alarm ____ (ring)?", options:["Was she sleeping / rang","Did she sleep / was ringing"], correct:0},
{text:"What ____ they ____ (do) while you ____ (wait)?", options:["were / doing / were waiting","did / do / waited"], correct:0},
{text:"Where ____ he ____ (go) when you ____ (see) him?", options:["was he going / saw","did he go / were seeing"], correct:0},
{text:"What ____ you ____ (write) when I ____ (call)?", options:["were you writing / called","did you write / was calling"], correct:0},
{text:"Who ____ she ____ (talk) to when you ____ (enter)?", options:["was she talking / entered","did she talk / was entering"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"was / I / when / reading / he called", options:["I was reading when he called.","I was when he called reading."], correct:0},
{text:"walking / was / she / home / was / it raining", options:["She was walking home when it was raining.","She was walking home when it rained."], correct:1},
{text:"they / were / football / playing / we / arrived / when", options:["They were playing football when we arrived.","They were playing when football we arrived."], correct:0},
{text:"having / were / dinner / they / the phone / rang / when", options:["They were having dinner when the phone rang.","They had dinner when the phone was ringing."], correct:0},
{text:"while / was / I / listening / he / was / speaking", options:["I was listening while he was speaking.","I listened while he was speaking."], correct:0},
{text:"it / started / we / were / walking / when / to rain", options:["It started to rain when we were walking.","It started to rain when we walked."], correct:0}
]
},

/* ----------------- 5) BUILD THE SENTENCE ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / cook / when / he / arrive)", options:["I was cooking when he arrived.","I cooked when he was arriving."], correct:0},
{text:"(she / watch TV / when / I / call)", options:["She was watching TV when I called.","She watched TV when I was calling."], correct:0},
{text:"(they / play / while / we / walk)", options:["They were playing while we were walking.","They played while we walked."], correct:0},
{text:"(we / talk / when / the teacher / come in)", options:["We were talking when the teacher came in.","We talked when the teacher was coming in."], correct:0},
{text:"(he / not listen / while / I / explain)", options:["He wasn't listening while I was explaining.","He didn't listen while I explained."], correct:0},
{text:"(it / rain / while / we / drive)", options:["It was raining while we were driving.","It rained while we were driving."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–Ø —á–∏—Ç–∞–ª, –∫–æ–≥–¥–∞ –æ–Ω –ø–æ–∑–≤–æ–Ω–∏–ª.", options:["I was reading when he called.","I read when he was calling."], correct:0},
{text:"–û–Ω–∞ —à–ª–∞ –¥–æ–º–æ–π, –∫–æ–≥–¥–∞ –Ω–∞—á–∞–ª—Å—è –¥–æ–∂–¥—å.", options:["She was walking home when it started to rain.","She walked home when it was starting to rain."], correct:0},
{text:"–û–Ω–∏ –∏–≥—Ä–∞–ª–∏ –≤ —Ñ—É—Ç–±–æ–ª, –∫–æ–≥–¥–∞ —è –ø—Ä–∏—à—ë–ª.", options:["They were playing football when I arrived.","They played football when I was arriving."], correct:0},
{text:"–ú—ã —É–∂–∏–Ω–∞–ª–∏, –∫–æ–≥–¥–∞ –æ–Ω –≤–æ—à—ë–ª.", options:["We were having dinner when he came in.","We had dinner when he was coming in."], correct:0},
{text:"–û–Ω –Ω–µ —Å–ª—É—à–∞–ª, –ø–æ–∫–∞ —É—á–∏—Ç–µ–ª—å –æ–±—ä—è—Å–Ω—è–ª.", options:["He wasn't listening while the teacher was explaining.","He didn't listen while the teacher explained."], correct:0},
{text:"–®—ë–ª –¥–æ–∂–¥—å, –ø–æ–∫–∞ –º—ã –µ—Ö–∞–ª–∏.", options:["It was raining while we were driving.","It rained while we were driving."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 4      =========================
   ============================================================ */
{
id:4,
title:"Future forms: will / going to / Present Continuous",
level:"Intermediate",
explanation:"Will is used for instant decisions, promises and predictions. Be going to is used for plans and intentions and predictions with evidence. Present Continuous is used for fixed future arrangements.",
ruleRu:"Will ‚Äì —Ä–µ—à–µ–Ω–∏–µ —Å–µ–π—á–∞—Å, –æ–±–µ—â–∞–Ω–∏—è, –ø—Ä–æ–≥–Ω–æ–∑—ã. Be going to ‚Äì –ø–ª–∞–Ω, –Ω–∞–º–µ—Ä–µ–Ω–∏–µ, ¬´—Å–æ–±–∏—Ä–∞—é—Å—å¬ª, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≥–Ω–æ–∑ —Å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º. Present Continuous (am/is/are + V-ing) ‚Äì —Ç–≤—ë—Ä–¥–∞—è –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ.",
formulas:["will + V","am/is/are going to + V","am/is/are + V-ing (future)"],
examples:[
 "I think it will rain tomorrow.",
 "We are going to visit our grandma.",
 "They are meeting at 7 p.m."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I think it ____ (rain) tomorrow.", options:["will rain","am going to rain"], correct:0},
{text:"We ____ (visit) our grandparents next weekend. (plan)", options:["are going to visit","will visit"], correct:0},
{text:"They ____ (meet) at 6 p.m. (arrangement)", options:["are meeting","will meet"], correct:0},
{text:"Look at those clouds! It ____ (rain).", options:["is going to rain","will rain"], correct:0},
{text:"I promise I ____ (help) you.", options:["will help","am going to help"], correct:0},
{text:"She ____ (start) a new course next month. (already planned)", options:["is going to start","will start"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I ____ (not go) to the party. I am tired. (decision now)", options:["won't go","am not going to go"], correct:0},
{text:"We ____ (not travel) this year. (plan)", options:["are not going to travel","won't travel"], correct:0},
{text:"They ____ (not come) tomorrow, it's impossible.", options:["won't come","aren't coming to come"], correct:0},
{text:"She ____ (not meet) him tonight. (arrangement)", options:["isn't meeting","won't meets"], correct:0},
{text:"It ____ (not be) easy, but we can do it.", options:["won't be","isn't going to be"], correct:0},
{text:"He ____ (not buy) a new phone. He has no money. (intention)", options:["isn't going to buy","won't buying"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"What ____ you ____ (do) this evening? (plan)", options:["are / going to do","will / do"], correct:0},
{text:"When ____ they ____ (meet)? (arrangement)", options:["are they meeting","will they meeting"], correct:0},
{text:"____ you ____ (help) me with my homework? (offer)", options:["Will you help","Are you going to help"], correct:0},
{text:"Where ____ she ____ (stay) in London? (plan)", options:["is she going to stay","will she staying"], correct:0},
{text:"What time ____ the lesson ____ (start) tomorrow? (timetable)", options:["does / start","is / going to start"], correct:0},
{text:"Who ____ you ____ (visit) this weekend? (intention)", options:["are you going to visit","will you visiting"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"going / we / are / to visit / our grandma / next week", options:["We are going to visit our grandma next week.","We going are to visit our grandma next week."], correct:0},
{text:"I / think / will / it / rain", options:["I think it will rain.","I will think it rains."], correct:0},
{text:"meeting / are / at 7 / they", options:["They are meeting at 7.","They meeting are at 7."], correct:0},
{text:"promise / I / help / will / you", options:["I promise I will help you.","I will promise I help you."], correct:0},
{text:"to start / is / a new job / she / going", options:["She is going to start a new job.","She going is to start a new job."], correct:0},
{text:"are / doing / what / you / tomorrow", options:["What are you doing tomorrow?","What you are doing tomorrow?"], correct:0}
]
},

/* ----------------- 5) BUILD THE SENTENCE ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / think / he / win)", options:["I think he will win.","I think he is going to wins."], correct:0},
{text:"(we / visit / them / next Sunday) ‚Äî –ø–ª–∞–Ω", options:["We are going to visit them next Sunday.","We will visiting them next Sunday."], correct:0},
{text:"(they / meet / at 5) ‚Äî –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å", options:["They are meeting at 5.","They will meeting at 5."], correct:0},
{text:"(look! / the glass / fall)", options:["Look! The glass is going to fall.","Look! The glass will falls."], correct:0},
{text:"(I / help / you / with this task) ‚Äî –æ–±–µ—â–∞–Ω–∏–µ", options:["I will help you with this task.","I am going to helping you with this task."], correct:0},
{text:"(she / start / a diet / next week) ‚Äî –ø–ª–∞–Ω", options:["She is going to start a diet next week.","She will starting a diet next week."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–Ø –¥—É–º–∞—é, –∑–∞–≤—Ç—Ä–∞ –ø–æ–π–¥—ë—Ç –¥–æ–∂–¥—å.", options:["I think it will rain tomorrow.","I think it is going to rains tomorrow."], correct:0},
{text:"–ú—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –Ω–∞–≤–µ—Å—Ç–∏—Ç—å –±–∞–±—É—à–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –≤—ã—Ö–æ–¥–Ω—ã—Ö.", options:["We are going to visit our grandma next weekend.","We will visit our grandma are next weekend."], correct:0},
{text:"–û–Ω–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ —à–µ—Å—Ç—å –≤–µ—á–µ—Ä–∞.", options:["They are meeting at six p.m.","They will meeting at six p.m."], correct:0},
{text:"–ü–æ—Å–º–æ—Ç—Ä–∏! –û–Ω —Å–µ–π—á–∞—Å —É–ø–∞–¥—ë—Ç.", options:["Look! He is going to fall.","Look! He will falling."], correct:0},
{text:"–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º.", options:["I will help you with English.","I am going to helps you with English."], correct:0},
{text:"–û–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤—ã–π –∫—É—Ä—Å –≤ —Å–ª–µ–¥—É—é—â–µ–º –º–µ—Å—è—Ü–µ.", options:["She is going to start a new course next month.","She will starting a new course next month."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 5      =========================
   ============================================================ */
{
id:5,
title:"Used to / be used to / get used to",
level:"Intermediate",
explanation:"Used to + V = past habit/state no longer true. Be used to + V-ing/noun = something is normal now. Get used to + V-ing/noun = the process of becoming accustomed.",
ruleRu:"Used to + V ‚Äì —Ä–∞–Ω—å—à–µ –¥–µ–ª–∞–ª/–±—ã–ª–æ, —Å–µ–π—á–∞—Å –Ω–µ—Ç. Be used to + V-ing/—Å—É—â. ‚Äì –ø—Ä–∏–≤—ã–∫, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. Get used to + V-ing/—Å—É—â. ‚Äì –ø—Ä–∏–≤—ã–∫–∞–µ—Ç (–ø—Ä–æ—Ü–µ—Å—Å).",
formulas:["used to + V","be used to + V-ing / noun","get used to + V-ing / noun"],
examples:[
 "I used to live in a village.",
 "She is used to getting up early.",
 "They are getting used to online lessons."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I ____ (live) in Astana, but now I live in Almaty.", options:["used to live","am used to living"], correct:0},
{text:"She ____ (get up) early; it‚Äôs normal for her.", options:["is used to getting up","used to get up"], correct:0},
{text:"They ____ (study) online. They are adapting now.", options:["are getting used to studying","used to study"], correct:0},
{text:"We ____ (play) outside every day when we were kids.", options:["used to play","are used to playing"], correct:0},
{text:"He ____ (drive) long distances. It‚Äôs not a problem for him.", options:["is used to driving","used to drive"], correct:0},
{text:"I ____ (eat) spicy food. Now it's normal.", options:["am used to eating","used to eat"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I ____ (not like) coffee before.", options:["didn't use to like","am not used to liking"], correct:0},
{text:"She ____ (not be) waking up early yet.", options:["isn't used to waking","didn't use to wake"], correct:0},
{text:"They ____ (not study) online before the pandemic.", options:["didn't use to study","aren't used to studying"], correct:0},
{text:"He ____ (not drive) long distances; it was difficult for him.", options:["wasn't used to driving","didn't use to drive"], correct:1},
{text:"We ____ (not be) living in a big city yet.", options:["aren't used to living","didn't use to live"], correct:0},
{text:"I ____ (not eat) spicy food before.", options:["didn't use to eat","am not used to eating"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"What ____ you ____ (do) when you were a child?", options:["did you use to do","are you used to doing"], correct:0},
{text:"____ she ____ (wake up) early?", options:["Is she used to waking","Did she use to wake"], correct:1},
{text:"What food ____ they ____ (eat) before?", options:["did they use to eat","are they used to eating"], correct:0},
{text:"____ he ____ (drive) long distances now?", options:["Is he used to driving","Did he use to drive"], correct:0},
{text:"When ____ you ____ (get used to) online lessons?", options:["did you get used to","do you get used to"], correct:0},
{text:"____ she ____ (be) shy at school?", options:["Did she use to be","Is she used to being"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"used / I / live / to / here", options:["I used to live here.","Used I to live here."], correct:0},
{text:"is / getting / he / used / to / studying", options:["He is getting used to studying.","He getting is used studying to."], correct:0},
{text:"used / she / to / get up", options:["She used to get up.","Used to she get up."], correct:0},
{text:"am / used / I / to / eating / spicy food", options:["I am used to eating spicy food.","I used am eating spicy food to."], correct:0},
{text:"used / he / to / be / shy", options:["He used to be shy.","He to be used shy."], correct:0},
{text:"getting / are / used / they / to / online learning", options:["They are getting used to online learning.","They are used getting to online learning."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / used to / play football)", options:["I used to play football.","I am used to playing football."], correct:0},
{text:"(she / be used to / driving)", options:["She is used to driving.","She used to drive."], correct:0},
{text:"(they / get used to / waking early)", options:["They are getting used to waking early.","They used to wake early."], correct:0},
{text:"(he / used to / read a lot)", options:["He used to read a lot.","He is used to reading a lot."], correct:0},
{text:"(we / be used to / living in a city)", options:["We are used to living in a city.","We used to live in a city."], correct:0},
{text:"(I / get used to / working online)", options:["I am getting used to working online.","I used to work online."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–Ø —Ä–∞–Ω—å—à–µ –∂–∏–ª –≤ –¥–µ—Ä–µ–≤–Ω–µ.", options:["I used to live in a village.","I am used to living in a village."], correct:0},
{text:"–û–Ω–∞ –ø—Ä–∏–≤—ã–∫–ª–∞ –≤—Å—Ç–∞–≤–∞—Ç—å —Ä–∞–Ω–æ.", options:["She is used to getting up early.","She used to get up early."], correct:0},
{text:"–û–Ω–∏ –ø—Ä–∏–≤—ã–∫–∞—é—Ç –∫ –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–∞–º.", options:["They are getting used to online lessons.","They used to online lessons."], correct:0},
{text:"–ú—ã —Ä–∞–Ω—å—à–µ –∏–≥—Ä–∞–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.", options:["We used to play every day.","We are used to playing every day."], correct:0},
{text:"–û–Ω –Ω–µ –ø—Ä–∏–≤—ã–∫ –µ–∑–¥–∏—Ç—å –¥–∞–ª–µ–∫–æ.", options:["He isn't used to driving long distances.","He didn't use to drive long distances."], correct:0},
{text:"–Ø –ø—Ä–∏–≤—ã–∫ –µ—Å—Ç—å –æ—Å—Ç—Ä—É—é –µ–¥—É.", options:["I am used to eating spicy food.","I used to eat spicy food."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 6      =========================
   ============================================================ */
{
id:6,
title:"Modal verbs of deduction (must / might / can‚Äôt)",
level:"Intermediate",
explanation:"We use must when we are almost sure something is true now; might/may/could when it is possible; can‚Äôt when we are sure it is impossible.",
ruleRu:"Must ‚Äì –Ω–∞–≤–µ—Ä–Ω—è–∫–∞; might/may/could ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ; can‚Äôt ‚Äì –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å.",
formulas:["must + V","might/may/could + V","can‚Äôt + V"],
examples:[
 "He must be at home.",
 "She might be in the library.",
 "He can‚Äôt be 10 ‚Äî he looks 20."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"He ____ (be) tired ‚Äî he worked all day.", options:["must be","might be"], correct:0},
{text:"She ____ (be) at school ‚Äî I‚Äôm not sure.", options:["might be","must be"], correct:0},
{text:"They ____ (be) busy ‚Äî it‚Äôs possible.", options:["might be","must be"], correct:0},
{text:"He ____ (be) the teacher ‚Äî he knows everything.", options:["must be","might be"], correct:0},
{text:"She ____ (be) at home ‚Äî the lights are on.", options:["must be","can‚Äôt be"], correct:0},
{text:"He ____ (be) 40 ‚Äî I‚Äôm not sure.", options:["might be","must be"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"He ____ (not be) 12 ‚Äî he looks older.", options:["can‚Äôt be","mustn‚Äôt be"], correct:0},
{text:"She ____ (not be) at home ‚Äî her phone is off.", options:["might not be","can‚Äôt be"], correct:0},
{text:"They ____ (not be) tired ‚Äî they slept well.", options:["can‚Äôt be","must not be"], correct:0},
{text:"He ____ (not be) the winner ‚Äî he didn‚Äôt play.", options:["can‚Äôt be","mustn‚Äôt be"], correct:0},
{text:"She ____ (not be) angry ‚Äî she‚Äôs smiling.", options:["can‚Äôt be","might not be"], correct:0},
{text:"He ____ (not be) hungry ‚Äî he just ate.", options:["can‚Äôt be","mustn‚Äôt be"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Where ____ he ____ (be)? I don‚Äôt know.", options:["might he be","must he be"], correct:0},
{text:"Why ____ she ____ (be) late?", options:["might she be","must she be"], correct:0},
{text:"What ____ they ____ (do) now?", options:["might they be doing","must they doing"], correct:0},
{text:"Who ____ she ____ (talk) to?", options:["might she be talking","must she talking"], correct:0},
{text:"Where ____ he ____ (live)?", options:["might he live","must he live"], correct:0},
{text:"What ____ he ____ (want)?", options:["might he want","must he wanting"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"must / he / be / at home", options:["He must be at home.","Must he be at home."], correct:0},
{text:"might / she / be / in the library", options:["She might be in the library.","Might be she in the library."], correct:0},
{text:"can‚Äôt / he / be / 10", options:["He can‚Äôt be 10.","Can‚Äôt be he 10."], correct:0},
{text:"be / they / must / tired", options:["They must be tired.","Must tired they be."], correct:0},
{text:"might / they / be / playing", options:["They might be playing.","Might they playing be."], correct:0},
{text:"can‚Äôt / it / be / true", options:["It can‚Äôt be true.","Can‚Äôt it true be."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(he / must / be / at school)", options:["He must be at school.","He be must at school."], correct:0},
{text:"(she / might / be / tired)", options:["She might be tired.","She tired might be."], correct:0},
{text:"(they / can‚Äôt / be / at home)", options:["They can‚Äôt be at home.","They be can‚Äôt at home."], correct:0},
{text:"(he / might / be / working)", options:["He might be working.","He working might be."], correct:0},
{text:"(it / must / be / difficult)", options:["It must be difficult.","It be must difficult."], correct:0},
{text:"(she / can‚Äôt / be / 20)", options:["She can‚Äôt be 20.","She be can‚Äôt 20."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–º–∞.", options:["He must be at home.","He might be at home."], correct:0},
{text:"–û–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ.", options:["She might be in the library.","She must be in the library."], correct:0},
{text:"–û–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 10-–ª–µ—Ç–Ω–∏–º.", options:["He can‚Äôt be 10.","He mustn‚Äôt be 10."], correct:0},
{text:"–û–Ω–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞–Ω—è—Ç—ã.", options:["They might be busy.","They must be busy."], correct:0},
{text:"–û–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–ª–æ–π ‚Äî –æ–Ω–∞ —É–ª—ã–±–∞–µ—Ç—Å—è.", options:["She can‚Äôt be angry.","She might not be angry."], correct:0},
{text:"–û–Ω –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —É—Å—Ç–∞–ª.", options:["He must be tired.","He might be tired."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 7      =========================
   ============================================================ */
{
id:7,
title:"Second Conditional",
level:"Intermediate",
explanation:"We use the Second Conditional for unreal or imaginary situations in the present or future.",
ruleRu:"Second Conditional ‚Äî –Ω–µ—Ä–µ–∞–ª—å–Ω—ã–µ, –≤–æ–æ–±—Ä–∞–∂–∞–µ–º—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –ø—Ä–æ –Ω–∞—Å—Ç–æ—è—â–µ–µ/–±—É–¥—É—â–µ–µ.",
formulas:["If + Past Simple, would + V"],
examples:[
 "If I had a lot of money, I would travel around the world.",
 "If she studied harder, she would get better marks."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"If I ____ (have) a car, I ____ (drive) to school.", options:["had / would drive","have / will drive"], correct:0},
{text:"If she ____ (study) more, she ____ (get) better marks.", options:["studied / would get","studies / will get"], correct:0},
{text:"If they ____ (be) older, they ____ (travel) alone.", options:["were / would travel","are / will travel"], correct:0},
{text:"If he ____ (live) near school, he ____ (walk).", options:["lived / would walk","lives / will walk"], correct:0},
{text:"If we ____ (know) the answer, we ____ (help) you.", options:["knew / would help","know / will help"], correct:0},
{text:"If she ____ (have) more free time, she ____ (read) more.", options:["had / would read","has / will read"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"If I ____ (not be) tired, I ____ (go) out.", options:["weren't / would go","am not / will go"], correct:0},
{text:"If she ____ (not have) a headache, she ____ (study).", options:["didn't have / would study","doesn't have / will study"], correct:0},
{text:"If he ____ (not be) shy, he ____ (make) more friends.", options:["weren't / would make","isn't / will make"], correct:0},
{text:"If we ____ (not be) busy, we ____ (visit) you.", options:["weren't / would visit","aren‚Äôt / will visit"], correct:0},
{text:"If they ____ (not live) far away, they ____ (come) often.", options:["didn't live / would come","don't live / will come"], correct:0},
{text:"If she ____ (not be) afraid, she ____ (try).", options:["weren't / would try","isn't / will try"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"What ____ you ____ (do) if you ____ (win) a million?", options:["would you do / won","will you do / win"], correct:0},
{text:"Where ____ she ____ (go) if she ____ (have) time?", options:["would she go / had","will she go / has"], correct:0},
{text:"Who ____ he ____ (help) if he ____ (be) rich?", options:["would he help / were","will he help / is"], correct:0},
{text:"What ____ they ____ (buy) if they ____ (save) money?", options:["would they buy / saved","will they buy / save"], correct:0},
{text:"What ____ you ____ (eat) if you ____ (be) hungry?", options:["would you eat / were","will you eat / are"], correct:0},
{text:"What ____ she ____ (change) if she ____ (can)?", options:["would she change / could","will she change / can"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"I / would / travel / if / had / I / time", options:["I would travel if I had time.","I would if I had time travel."], correct:0},
{text:"she / would / study / if / harder / had / she", options:["She would study harder if she had time.","She study would harder if had she time."], correct:0},
{text:"if / were / I / rich / would / I / help", options:["If I were rich, I would help.","I would if I were rich help."], correct:0},
{text:"they / live / would / if / closer / visited us", options:["If they lived closer, they would visit us.","They would visit us if lived they closer."], correct:0},
{text:"we / if / had / more money / would / buy / a car", options:["If we had more money, we would buy a car.","We would if we had more money buy a car."], correct:0},
{text:"she / if / tried / would / succeed", options:["She would succeed if she tried.","She succeed would if tried she."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / travel / if / had / money)", options:["I would travel if I had money.","I will travel if I have money."], correct:0},
{text:"(she / help / if / knew / answer)", options:["She would help if she knew the answer.","She will help if she knows the answer."], correct:0},
{text:"(they / play / if / were / free)", options:["They would play if they were free.","They will play if they are free."], correct:0},
{text:"(he / study / if / had / time)", options:["He would study if he had time.","He will study if he has time."], correct:0},
{text:"(we / buy / if / lived / cheaper)", options:["We would buy it if it lived cheaper.","We would buy it if it were cheaper."], correct:1},
{text:"(I / call / if / needed / help)", options:["I would call if I needed help.","I will call if I need help."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ï—Å–ª–∏ –±—ã —É –º–µ–Ω—è –±—ã–ª–∞ –º–∞—à–∏–Ω–∞, —è –±—ã –µ–∑–¥–∏–ª –≤ —à–∫–æ–ª—É.", options:["If I had a car, I would drive to school.","If I have a car, I will drive to school."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –æ–Ω–∞ –±–æ–ª—å—à–µ —É—á–∏–ª–∞—Å—å, –æ–Ω–∞ –±—ã –ø–æ–ª—É—á–∞–ª–∞ –ª—É—á—à–∏–µ –æ—Ü–µ–Ω–∫–∏.", options:["If she studied more, she would get better marks.","If she studies more, she will get better marks."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –æ–Ω–∏ –±—ã–ª–∏ —Å—Ç–∞—Ä—à–µ, –æ–Ω–∏ –±—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞–ª–∏.", options:["If they were older, they would travel.","If they are older, they will travel."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –º—ã –∑–Ω–∞–ª–∏ –æ—Ç–≤–µ—Ç, –º—ã –±—ã –ø–æ–º–æ–≥–ª–∏.", options:["If we knew the answer, we would help.","If we know the answer, we will help."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –æ–Ω –∂–∏–ª —Ä—è–¥–æ–º, –æ–Ω –±—ã —Ö–æ–¥–∏–ª –ø–µ—à–∫–æ–º.", options:["If he lived near, he would walk.","If he lives near, he will walk."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã —É –º–µ–Ω—è –±—ã–ª–æ –≤—Ä–µ–º—è, —è –±—ã –ø—Ä–æ—á–∏—Ç–∞–ª –∫–Ω–∏–≥—É.", options:["If I had time, I would read a book.","If I have time, I will read a book."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 8      =========================
   ============================================================ */
{
id:8,
title:"Mixed Conditionals",
level:"Intermediate",
explanation:"Mixed conditionals connect different times: unreal past ‚Üí present result, or unreal present ‚Üí past result.",
ruleRu:"–°–º–µ—à–∞–Ω–Ω—ã–µ —É—Å–ª–æ–≤–Ω—ã–µ: –Ω–µ—Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–æ—à–ª–æ–µ ‚Üí —Ç–µ–ø–µ—Ä–µ—à–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç; –Ω–µ—Ä–µ–∞–ª—å–Ω–æ–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ ‚Üí –ø—Ä–æ—à–ª—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.",
formulas:[
 "If + Past Perfect, would + V (now result)",
 "If + Past Simple, would have + V3 (past result)"
],
examples:[
 "If I had studied harder, I would be at university now.",
 "If I were taller, I would have become a basketball player."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"If I ____ (study) harder, I ____ (be) at university now.", options:["had studied / would be","studied / would have been"], correct:0},
{text:"If he ____ (be) taller, he ____ (play) basketball.", options:["were / would have played","was / would play"], correct:0},
{text:"If they ____ (save) money, they ____ (travel) now.", options:["had saved / would travel","saved / would have traveled"], correct:0},
{text:"If she ____ (listen) to me, she ____ (be) happier now.", options:["had listened / would be","listened / would have been"], correct:0},
{text:"If we ____ (know) earlier, we ____ (help).", options:["had known / would have helped","knew / would help"], correct:0},
{text:"If I ____ (be) brave, I ____ (have rescued) him.", options:["were / would have rescued","was / would rescue"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"If she ____ (not be) late, she ____ (not miss) the train.", options:["hadn't been / wouldn't have missed","weren't / wouldn't miss"], correct:0},
{text:"If he ____ (not eat) junk food, he ____ (be) healthier now.", options:["hadn't eaten / would be","didn't eat / would be"], correct:0},
{text:"If they ____ (not argue), they ____ (be) friends now.", options:["hadn't argued / would be","didn't argue / would be"], correct:0},
{text:"If I ____ (not break) my leg, I ____ (play) in the match.", options:["hadn't broken / would have played","didn't break / would play"], correct:0},
{text:"If she ____ (not lose) her keys, she ____ (be) home now.", options:["hadn't lost / would be","didn't lose / would have been"], correct:0},
{text:"If we ____ (not forget) about it, we ____ (be) fine now.", options:["hadn't forgotten / would be","didn't forget / would have been"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Where ____ you ____ (be) now if you ____ (work) harder?", options:["would you be / had worked","would you be / worked"], correct:0},
{text:"What ____ she ____ (do) if she ____ (be) more confident?", options:["would she have done / were","would she do / was"], correct:0},
{text:"Who ____ he ____ (meet) if he ____ (go) to the party?", options:["would he have met / had gone","would he meet / went"], correct:0},
{text:"How ____ your life ____ (change) if you ____ (decide) earlier?", options:["would your life have changed / had decided","would your life change / decided"], correct:0},
{text:"Where ____ they ____ (live) now if they ____ (move)?", options:["would they live / had moved","would they have lived / moved"], correct:0},
{text:"What ____ you ____ (choose) if you ____ (be) older?", options:["would you have chosen / had been","would you choose / were"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"had / studied / I / would / be / now / at university", options:["If I had studied, I would be at university now.","I would be now if had studied at university."], correct:0},
{text:"were / he / taller / played / would / have", options:["If he were taller, he would have played.","If he were taller, he would played have."], correct:0},
{text:"had / saved / they / travel / now / would", options:["If they had saved, they would travel now.","They would now travel if had saved they."], correct:0},
{text:"had / listened / she / happier / be / would", options:["If she had listened, she would be happier.","She would be happier if listened she had."], correct:0},
{text:"knew / had / we / earlier / helped / have / would", options:["If we had known earlier, we would have helped.","We would have helped if we knew earlier."], correct:0},
{text:"were / I / brave / would / rescued / have", options:["If I were brave, I would have rescued.","If I was brave, I would rescued have."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / be / at university / if / study harder)", options:["I would be at university now if I had studied harder.","I would be at university if I studied harder."], correct:0},
{text:"(he / play / basketball / if / be taller)", options:["He would have played basketball if he were taller.","He would play basketball if he was taller."], correct:0},
{text:"(they / travel now / if / save money)", options:["They would travel now if they had saved money.","They would travel if they saved money."], correct:0},
{text:"(she / be happier / if / listen)", options:["She would be happier now if she had listened.","She would be happier if she listened."], correct:0},
{text:"(we / help / if / know earlier)", options:["We would have helped if we had known earlier.","We would help if we knew earlier."], correct:0},
{text:"(I / rescue / him / if / be brave)", options:["I would have rescued him if I were brave.","I would rescue him if I was brave."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ï—Å–ª–∏ –±—ã —è —É—á–∏–ª—Å—è —É—Å–µ—Ä–¥–Ω–µ–µ, —è –±—ã–ª –±—ã –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ —Å–µ–π—á–∞—Å.", options:["If I had studied harder, I would be at university now.","If I studied harder, I would be at university."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –æ–Ω –±—ã–ª –≤—ã—à–µ, –æ–Ω –±—ã —Å—Ç–∞–ª –±–∞—Å–∫–µ—Ç–±–æ–ª–∏—Å—Ç–æ–º.", options:["If he were taller, he would have become a basketball player.","If he was taller, he would become a basketball player."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –æ–Ω–∏ –∫–æ–ø–∏–ª–∏ –¥–µ–Ω—å–≥–∏, –æ–Ω–∏ –±—ã –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞–ª–∏ —Å–µ–π—á–∞—Å.", options:["If they had saved money, they would travel now.","If they saved money, they would travel now."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –æ–Ω–∞ –ø–æ—Å–ª—É—à–∞–ª–∞ –º–µ–Ω—è, –æ–Ω–∞ –±—ã–ª–∞ –±—ã —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ.", options:["If she had listened to me, she would be happier now.","If she listened to me, she would be happier."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã –º—ã –∑–Ω–∞–ª–∏ —Ä–∞–Ω—å—à–µ, –º—ã –±—ã –ø–æ–º–æ–≥–ª–∏.", options:["If we had known earlier, we would have helped.","If we knew earlier, we would help."], correct:0},
{text:"–ï—Å–ª–∏ –±—ã —è –±—ã–ª —Å–º–µ–ª–µ–µ, —è –±—ã —Å–ø–∞—Å –µ–≥–æ.", options:["If I were braver, I would have rescued him.","If I was braver, I would rescue him."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 9      =========================
   ============================================================ */
{
id:9,
title:"Passive Voice (Intermediate)",
level:"Intermediate",
explanation:"In the Passive Voice, the focus is on the action, not the doer.",
ruleRu:"–í Passive –≤–∞–∂–Ω–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∞ –Ω–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å.",
formulas:[
 "Present: am/is/are + V3",
 "Past: was/were + V3",
 "Future: will be + V3"
],
examples:[
 "The homework is checked every day.",
 "This film was made in 2019."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"This room ____ (clean) every day.", options:["is cleaned","cleans"], correct:0},
{text:"The homework ____ (check) yesterday.", options:["was checked","checked"], correct:0},
{text:"The project ____ (finish) next week.", options:["will be finished","will finish"], correct:0},
{text:"These books ____ (write) by famous authors.", options:["were written","wrote"], correct:0},
{text:"Dinner ____ (serve) at 7 p.m.", options:["is served","serves"], correct:0},
{text:"The exam ____ (take) last Monday.", options:["was taken","took"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"The letter ____ (not send) yesterday.", options:["wasn't sent","didn't send"], correct:0},
{text:"The room ____ (not clean) today.", options:["isn't cleaned","doesn't cleaned"], correct:0},
{text:"The work ____ (not finish) yet.", options:["hasn't been finished","wasn't finished"], correct:0},
{text:"The food ____ (not cook) well.", options:["isn't cooked","doesn't cook"], correct:0},
{text:"The project ____ (not check) last week.", options:["wasn't checked","didn't check"], correct:0},
{text:"The house ____ (not build) in 2020.", options:["wasn't built","didn't built"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"When ____ the homework ____ (check)?", options:["was / checked","did / check"], correct:0},
{text:"Where ____ the film ____ (make)?", options:["was / made","did / make"], correct:0},
{text:"How often ____ the class ____ (clean)?", options:["is / cleaned","does / clean"], correct:0},
{text:"When ____ the project ____ (finish)?", options:["will / be finished","will / finish"], correct:0},
{text:"Why ____ the invitation ____ (send)?", options:["was / sent","did / send"], correct:0},
{text:"How ____ the book ____ (write)?", options:["was / written","did / write"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"was / written / the book / in 2010", options:["The book was written in 2010.","Written was the book in 2010."], correct:0},
{text:"is / cleaned / this room / every day", options:["This room is cleaned every day.","Is cleaned this room every day."], correct:0},
{text:"was / the homework / checked / yesterday", options:["The homework was checked yesterday.","Was the homework checked yesterday."], correct:1},
{text:"will / be / finished / the work / tomorrow", options:["The work will be finished tomorrow.","Will the work finished be tomorrow."], correct:0},
{text:"were / made / the toys / in China", options:["The toys were made in China.","Made were the toys in China."], correct:0},
{text:"was / taken / the exam / last week", options:["The exam was taken last week.","Taken was the exam last week."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(the room / clean / every day)", options:["The room is cleaned every day.","The room cleans every day."], correct:0},
{text:"(the project / finish / next week)", options:["The project will be finished next week.","The project will finish next week."], correct:0},
{text:"(dinner / serve / at 6)", options:["Dinner is served at 6.","Dinner serves at 6."], correct:0},
{text:"(the film / make / in 2019)", options:["The film was made in 2019.","The film made in 2019."], correct:0},
{text:"(the letters / send / yesterday)", options:["The letters were sent yesterday.","The letters sent yesterday."], correct:0},
{text:"(the task / check / last Monday)", options:["The task was checked last Monday.","The task checked last Monday."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ö–æ–º–Ω–∞—Ç–∞ —É–±–∏—Ä–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.", options:["The room is cleaned every day.","The room cleans every day."], correct:0},
{text:"–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ.", options:["The project will be finished next week.","The project will finish next week."], correct:0},
{text:"–§–∏–ª—å–º –±—ã–ª —Å–Ω—è—Ç –≤ 2019 –≥–æ–¥—É.", options:["The film was made in 2019.","The film made in 2019."], correct:0},
{text:"–î–æ–º –Ω–µ –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –≤ 2020.", options:["The house wasn't built in 2020.","The house didn't build in 2020."], correct:0},
{text:"–ü–∏—Å—å–º–æ –Ω–µ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ.", options:["The letter wasn't sent.","The letter didn't send."], correct:0},
{text:"–ï–¥—É –ø–ª–æ—Ö–æ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏.", options:["The food wasn't cooked well.","The food didn't cook well."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 10      ========================
   ============================================================ */
{
id:10,
title:"Reported Speech (statements & questions)",
level:"Intermediate",
explanation:"Reported speech is used to say what someone said without quoting directly. Tenses usually move one step back.",
ruleRu:"–ö–æ—Å–≤–µ–Ω–Ω–∞—è —Ä–µ—á—å: –ø–µ—Ä–µ–¥–∞—ë–º —Å–ª–æ–≤–∞ –±–µ–∑ –∫–∞–≤—ã—á–µ–∫, –≤—Ä–µ–º—è —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥.",
formulas:[
 "say/tell + (that) + clause",
 "Present ‚Üí Past",
 "Past ‚Üí Past Perfect",
 "will ‚Üí would"
],
examples:[
 "He said that he was tired.",
 "She asked if I liked English."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"She said: ‚ÄúI am tired.‚Äù ‚Üí She said that she ____ tired.", options:["was","is"], correct:0},
{text:"He said: ‚ÄúI will call you.‚Äù ‚Üí He said that he ____ call me.", options:["would","will"], correct:0},
{text:"They said: ‚ÄúWe are busy.‚Äù ‚Üí They said that they ____ busy.", options:["were","are"], correct:0},
{text:"She said: ‚ÄúI like English.‚Äù ‚Üí She said that she ____ English.", options:["liked","likes"], correct:0},
{text:"He said: ‚ÄúI can help.‚Äù ‚Üí He said that he ____ help.", options:["could","can"], correct:0},
{text:"She said: ‚ÄúI have finished.‚Äù ‚Üí She said that she ____ finished.", options:["had","has"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"He said: ‚ÄúI don‚Äôt know.‚Äù ‚Üí He said that he ____ know.", options:["didn't","doesn't"], correct:0},
{text:"She said: ‚ÄúI won‚Äôt come.‚Äù ‚Üí She said that she ____ come.", options:["wouldn't","won't"], correct:0},
{text:"They said: ‚ÄúWe aren‚Äôt ready.‚Äù ‚Üí They said that they ____ ready.", options:["weren't","aren't"], correct:0},
{text:"He said: ‚ÄúI didn‚Äôt see it.‚Äù ‚Üí He said that he ____ seen it.", options:["hadn't","didn't"], correct:0},
{text:"She said: ‚ÄúI can‚Äôt help.‚Äù ‚Üí She said that she ____ help.", options:["couldn't","can't"], correct:0},
{text:"He said: ‚ÄúI haven‚Äôt done it.‚Äù ‚Üí He said that he ____ done it.", options:["hadn't","hasn't"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"‚ÄúDo you like English?‚Äù ‚Üí He asked if I ____ English.", options:["liked","like"], correct:0},
{text:"‚ÄúAre you tired?‚Äù ‚Üí She asked if I ____ tired.", options:["was","am"], correct:0},
{text:"‚ÄúWill you come?‚Äù ‚Üí He asked if I ____ come.", options:["would","will"], correct:0},
{text:"‚ÄúDid you see her?‚Äù ‚Üí She asked if I ____ seen her.", options:["had","did"], correct:0},
{text:"‚ÄúCan you help me?‚Äù ‚Üí He asked if I ____ help.", options:["could","can"], correct:0},
{text:"‚ÄúDo they study?‚Äù ‚Üí He asked if they ____ study.", options:["studied","study"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"said / he / was / tired / he", options:["He said he was tired.","He said was tired he."], correct:0},
{text:"she / said / would / call / she", options:["She said she would call.","She said would call she."], correct:0},
{text:"asked / he / I / liked / if / English", options:["He asked if I liked English.","He asked if liked I English."], correct:0},
{text:"said / she / had / finished / she", options:["She said she had finished.","She said had finished she."], correct:0},
{text:"asked / they / were / if / ready", options:["They asked if we were ready.","They asked if were we ready."], correct:0},
{text:"said / he / could / help / he", options:["He said he could help.","He said could help he."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(He said / he / was / busy)", options:["He said he was busy.","He said was busy he."], correct:0},
{text:"(She said / she / would / come)", options:["She said she would come.","She said would come she."], correct:0},
{text:"(He asked / if / I / was / ready)", options:["He asked if I was ready.","He asked if was I ready."], correct:0},
{text:"(She said / she / had / finished)", options:["She said she had finished.","She said had finished she."], correct:0},
{text:"(He said / he / could / help)", options:["He said he could help.","He said could help he."], correct:0},
{text:"(They asked / if / I / liked / English)", options:["They asked if I liked English.","They asked if liked I English."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–û–Ω —Å–∫–∞–∑–∞–ª, —á—Ç–æ –æ–Ω —É—Å—Ç–∞–ª.", options:["He said that he was tired.","He said that he is tired."], correct:0},
{text:"–û–Ω–∞ —Å–∫–∞–∑–∞–ª–∞, —á—Ç–æ –ø–æ–∑–≤–æ–Ω–∏—Ç.", options:["She said that she would call.","She said that she will call."], correct:0},
{text:"–û–Ω —Å–ø—Ä–æ—Å–∏–ª, –ª—é–±–ª—é –ª–∏ —è –∞–Ω–≥–ª–∏–π—Å–∫–∏–π.", options:["He asked if I liked English.","He asked if I like English."], correct:0},
{text:"–û–Ω–∞ —Å–∫–∞–∑–∞–ª–∞, —á—Ç–æ –∑–∞–∫–æ–Ω—á–∏–ª–∞.", options:["She said that she had finished.","She said that she has finished."], correct:0},
{text:"–û–Ω —Å–ø—Ä–æ—Å–∏–ª, –≥–æ—Ç–æ–≤ –ª–∏ —è.", options:["He asked if I was ready.","He asked if I am ready."], correct:0},
{text:"–û–Ω —Å–∫–∞–∑–∞–ª, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å.", options:["He said that he could help.","He said that he can help."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 11     =========================
   ============================================================ */
{
id:11,
title:"Relative Clauses (who / which / where)",
level:"Intermediate",
explanation:"We use who for people, which for things and animals, and where for places.",
ruleRu:"Who ‚Äî –ª—é–¥–∏; which ‚Äî –ø—Ä–µ–¥–º–µ—Ç—ã/–∂–∏–≤–æ—Ç–Ω—ã–µ; where ‚Äî –º–µ—Å—Ç–∞.",
formulas:["noun + who/which/where + clause"],
examples:[
 "The man who lives next door is a doctor.",
 "This is the place where we met."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"The girl ____ is talking is my sister.", options:["who","which"], correct:0},
{text:"The book ____ I bought is interesting.", options:["which","who"], correct:0},
{text:"The cafe ____ we met was nice.", options:["where","who"], correct:0},
{text:"The dog ____ barks a lot is mine.", options:["which","who"], correct:0},
{text:"The teacher ____ teaches math is kind.", options:["who","which"], correct:0},
{text:"The place ____ we live is quiet.", options:["where","who"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"The boy ____ didn't come is sick.", options:["who","which"], correct:0},
{text:"The movie ____ we watched wasn‚Äôt good.", options:["which","who"], correct:0},
{text:"The street ____ I don't walk is dark.", options:["where","who"], correct:0},
{text:"The bag ____ doesn‚Äôt fit is old.", options:["which","who"], correct:0},
{text:"The man ____ didn't call isn‚Äôt my dad.", options:["who","which"], correct:0},
{text:"The shop ____ I didn‚Äôt find is closed.", options:["which","where"], correct:1}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Who is the girl ____ is singing?", options:["who","which"], correct:0},
{text:"What is the thing ____ you lost?", options:["which","who"], correct:0},
{text:"Where is the place ____ we met last time?", options:["where","who"], correct:0},
{text:"Who is the person ____ called you?", options:["who","which"], correct:0},
{text:"Which is the car ____ you want?", options:["which","who"], correct:0},
{text:"Where is the school ____ he studies?", options:["where","which"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"the man / who / lives / here / is nice", options:["The man who lives here is nice.","The man lives who here is nice."], correct:0},
{text:"the film / which / I / watched / was good", options:["The film which I watched was good.","The film watched I which was good."], correct:0},
{text:"the place / where / we / met / was beautiful", options:["The place where we met was beautiful.","The place was beautiful where we met."], correct:0},
{text:"the dog / which / barks / is friendly", options:["The dog which barks is friendly.","The dog barks which is friendly."], correct:0},
{text:"the girl / who / studies / here / is smart", options:["The girl who studies here is smart.","The girl studies who here is smart."], correct:0},
{text:"the shop / where / they / work / is small", options:["The shop where they work is small.","The shop they work where is small."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(The man / who / helps me / is kind)", options:["The man who helps me is kind.","The man helps me who is kind."], correct:0},
{text:"(The book / which / you gave me / is great)", options:["The book which you gave me is great.","The book you gave me which is great."], correct:0},
{text:"(The place / where / I was born / is small)", options:["The place where I was born is small.","The place I was born where is small."], correct:0},
{text:"(The dog / which / I found / was hungry)", options:["The dog which I found was hungry.","The dog I found which was hungry."], correct:0},
{text:"(The girl / who / studies English / is my friend)", options:["The girl who studies English is my friend.","The girl studies English who is my friend."], correct:0},
{text:"(The city / where / they live / is big)", options:["The city where they live is big.","The city they live where is big."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ú—É–∂—á–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –∂–∏–≤—ë—Ç —Ä—è–¥–æ–º, ‚Äî –≤—Ä–∞—á.", options:["The man who lives next door is a doctor.","The man which lives next door is a doctor."], correct:0},
{text:"–ö–Ω–∏–≥–∞, –∫–æ—Ç–æ—Ä—É—é —è –∫—É–ø–∏–ª, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è.", options:["The book which I bought is interesting.","The book who I bought is interesting."], correct:0},
{text:"–ú–µ—Å—Ç–æ, –≥–¥–µ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å, –∫—Ä–∞—Å–∏–≤–æ–µ.", options:["The place where we met is beautiful.","The place which we met is beautiful."], correct:0},
{text:"–£—á–∏—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å —É—á–∏—Ç, –¥–æ–±—Ä—ã–π.", options:["The teacher who teaches us is kind.","The teacher which teaches us is kind."], correct:0},
{text:"–§–∏–ª—å–º, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–º–æ—Ç—Ä–µ–ª–∏, –±—ã–ª —Å–∫—É—á–Ω—ã–π.", options:["The film which we watched was boring.","The film who we watched was boring."], correct:0},
{text:"–î–æ–º, –≥–¥–µ –æ–Ω–∏ –∂–∏–≤—É—Ç, –±–æ–ª—å—à–æ–π.", options:["The house where they live is big.","The house which they live is big."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 12     =========================
   ============================================================ */
{
id:12,
title:"Gerunds & Infinitives",
level:"Intermediate",
explanation:"Some verbs take the gerund (V-ing), some take the infinitive (to + V), and some take object + infinitive.",
ruleRu:"Gerund (V-ing) ‚Äî –ø–æ—Å–ª–µ like, enjoy, avoid; Infinitive (to V) ‚Äî –ø–æ—Å–ª–µ want, decide; Object + to V ‚Äî want someone to do.",
formulas:["V + V-ing","V + to V","V + object + to V"],
examples:[
 "I enjoy reading books.",
 "She decided to move."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I enjoy ____ (read).", options:["reading","to read"], correct:0},
{text:"She decided ____ (move).", options:["to move","moving"], correct:0},
{text:"They want us ____ (help).", options:["to help","helping"], correct:0},
{text:"He finished ____ (write).", options:["writing","to write"], correct:0},
{text:"We plan ____ (travel).", options:["to travel","traveling"], correct:0},
{text:"She suggested ____ (study) together.", options:["studying","to study"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I avoided ____ (talk) to him.", options:["talking","to talk"], correct:0},
{text:"She refused ____ (help).", options:["to help","helping"], correct:0},
{text:"They stopped ____ (smoke).", options:["smoking","to smoke"], correct:0},
{text:"He didn‚Äôt want ____ (go).", options:["to go","going"], correct:0},
{text:"We can‚Äôt imagine ____ (live) there.", options:["living","to live"], correct:0},
{text:"She never agreed ____ (come).", options:["to come","coming"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Do you enjoy ____ (cook)?", options:["cooking","to cook"], correct:0},
{text:"Why did she refuse ____ (help)?", options:["to help","helping"], correct:0},
{text:"Do they plan ____ (travel)?", options:["to travel","traveling"], correct:0},
{text:"Did he finish ____ (work)?", options:["working","to work"], correct:0},
{text:"What did she suggest ____ (do)?", options:["doing","to do"], correct:0},
{text:"Do you want me ____ (come)?", options:["to come","come"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"enjoy / I / reading / books", options:["I enjoy reading books.","I reading enjoy books."], correct:0},
{text:"to travel / plan / we", options:["We plan to travel.","We to travel plan."], correct:0},
{text:"studying / she / suggested / together", options:["She suggested studying together.","She suggested to study together."], correct:0},
{text:"decided / to move / she", options:["She decided to move.","She to move decided."], correct:0},
{text:"want / us / they / to help", options:["They want us to help.","They want to help us."], correct:1},
{text:"finished / writing / he", options:["He finished writing.","He finished to write."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / enjoy / read)", options:["I enjoy reading.","I enjoy to read."], correct:0},
{text:"(She / decided / move)", options:["She decided to move.","She decided moving."], correct:0},
{text:"(They / want / us / help)", options:["They want us to help.","They want to help us."], correct:0},
{text:"(He / finished / write)", options:["He finished writing.","He finished to write."], correct:0},
{text:"(We / plan / travel)", options:["We plan to travel.","We plan traveling."], correct:0},
{text:"(She / suggested / study / together)", options:["She suggested studying together.","She suggested to study together."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —á–∏—Ç–∞—Ç—å.", options:["I enjoy reading.","I enjoy to read."], correct:0},
{text:"–û–Ω–∞ —Ä–µ—à–∏–ª–∞ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å.", options:["She decided to move.","She decided moving."], correct:0},
{text:"–û–Ω–∏ —Ö–æ—Ç—è—Ç, —á—Ç–æ–±—ã –º—ã –ø–æ–º–æ–≥–ª–∏.", options:["They want us to help.","They want to help us."], correct:0},
{text:"–û–Ω –∑–∞–∫–æ–Ω—á–∏–ª –ø–∏—Å–∞—Ç—å.", options:["He finished writing.","He finished to write."], correct:0},
{text:"–ú—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å.", options:["We plan to travel.","We plan traveling."], correct:0},
{text:"–û–Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∞ —É—á–∏—Ç—å—Å—è –≤–º–µ—Å—Ç–µ.", options:["She suggested studying together.","She suggested to study together."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 13     =========================
   ============================================================ */
{
id:13,
title:"Articles (a/an, the, zero)",
level:"Intermediate",
explanation:"A/An is used for something non-specific or first mention; The is used for specific things; Zero article is used for general ideas, plural nouns, languages, sports.",
ruleRu:"A/An ‚Äî –≤–ø–µ—Ä–≤—ã–µ, —á—Ç–æ-—Ç–æ –æ–¥–Ω–æ; The ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ; –ù–æ–ª—å –∞—Ä—Ç–∏–∫–ª—è ‚Äî –≤–æ–æ–±—â–µ, –≤ —Ü–µ–ª–æ–º.",
formulas:[
 "a/an + singular countable",
 "the + specific noun",
 "√ò + plural / uncountable / general"
],
examples:[
 "He is an engineer.",
 "I like the film you recommended.",
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"She bought ____ apple.", options:["an","the"], correct:0},
{text:"I saw ____ film you recommended.", options:["the","a"], correct:0},
{text:"We play ____ football on Sundays.", options:["√ò","the"], correct:0},
{text:"He is ____ actor.", options:["an","the"], correct:0},
{text:"They visited ____ museum yesterday.", options:["the","a"], correct:0},
{text:"She wants to be ____ doctor.", options:["a","the"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I don‚Äôt want ____ sandwich.", options:["a","the"], correct:0},
{text:"She doesn‚Äôt like ____ milk.", options:["√ò","the"], correct:0},
{text:"We didn‚Äôt see ____ teacher today.", options:["the","a"], correct:0},
{text:"He didn‚Äôt buy ____ new phone.", options:["a","the"], correct:0},
{text:"They don‚Äôt play ____ basketball.", options:["√ò","the"], correct:0},
{text:"She didn't read ____ book I gave her.", options:["the","a"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Did you buy ____ umbrella?", options:["an","the"], correct:0},
{text:"Where is ____ book I left here?", options:["the","a"], correct:0},
{text:"Do you like ____ music?", options:["√ò","the"], correct:0},
{text:"Is he ____ engineer?", options:["an","the"], correct:0},
{text:"Did she watch ____ movie?", options:["the","a"], correct:1},
{text:"Do they play ____ tennis?", options:["√ò","the"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"an / she / bought / umbrella", options:["She bought an umbrella.","She an bought umbrella."], correct:0},
{text:"the / saw / I / film", options:["I saw the film.","I the film saw."], correct:0},
{text:"play / √ò / they / football", options:["They play football.","They football play."], correct:0},
{text:"an / he / is / actor", options:["He is an actor.","He an is actor."], correct:0},
{text:"visited / museum / the / we", options:["We visited the museum.","We the visited museum."], correct:0},
{text:"is / a / she / doctor", options:["She is a doctor.","She a is doctor."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(She / bought / an / apple)", options:["She bought an apple.","She bought apple an."], correct:0},
{text:"(I / saw / the / film)", options:["I saw the film.","I the saw film."], correct:0},
{text:"(They / play / football)", options:["They play football.","They play the football."], correct:0},
{text:"(He / is / an / actor)", options:["He is an actor.","He is actor."], correct:0},
{text:"(We / visited / the / museum)", options:["We visited the museum.","We visited museum."], correct:0},
{text:"(She / is / a / doctor)", options:["She is a doctor.","She is doctor."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–û–Ω–∞ –∫—É–ø–∏–ª–∞ —è–±–ª–æ–∫–æ.", options:["She bought an apple.","She bought the apple."], correct:0},
{text:"–ú–Ω–µ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è —Ñ–∏–ª—å–º.", options:["I liked the film.","I liked a film."], correct:0},
{text:"–ú—ã –∏–≥—Ä–∞–µ–º –≤ —Ñ—É—Ç–±–æ–ª.", options:["We play football.","We play the football."], correct:0},
{text:"–û–Ω –∏–Ω–∂–µ–Ω–µ—Ä.", options:["He is an engineer.","He is engineer."], correct:0},
{text:"–ú—ã –ø–æ—Å–µ—Ç–∏–ª–∏ –º—É–∑–µ–π.", options:["We visited the museum.","We visited a museum."], correct:0},
{text:"–û–Ω–∞ —Ö–æ—á–µ—Ç –±—ã—Ç—å –¥–æ–∫—Ç–æ—Ä–æ–º.", options:["She wants to be a doctor.","She wants to be the doctor."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 14     =========================
   ============================================================ */
{
id:14,
title:"Phrasal Verbs",
level:"Intermediate",
explanation:"A phrasal verb is a verb + particle (up, on, off, after). The meaning often changes completely.",
ruleRu:"–§—Ä–∞–∑–æ–≤—ã–π –≥–ª–∞–≥–æ–ª: –≥–ª–∞–≥–æ–ª + —á–∞—Å—Ç–∏—Ü–∞ (up, on, off‚Ä¶). –ß–∞—Å—Ç–æ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.",
formulas:["verb + particle ‚Üí new meaning"],
examples:[
 "They broke up last year.",
 "She looks after her brother."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"She woke ____ at 7.", options:["up","off"], correct:0},
{text:"He turned ____ the TV.", options:["off","up"], correct:0},
{text:"They looked ____ the baby.", options:["after","up"], correct:0},
{text:"We picked ____ the toys.", options:["up","on"], correct:0},
{text:"He put ____ his jacket.", options:["on","off"], correct:0},
{text:"They broke ____ last year.", options:["up","off"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"She didn‚Äôt wake ____ early.", options:["up","on"], correct:0},
{text:"He didn‚Äôt turn ____ the lights.", options:["off","on"], correct:0},
{text:"They don‚Äôt look ____ the dog.", options:["after","up"], correct:0},
{text:"We didn‚Äôt pick ____ the papers.", options:["up","on"], correct:0},
{text:"He didn‚Äôt put ____ his coat.", options:["on","off"], correct:0},
{text:"They didn‚Äôt break ____.", options:["up","on"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Did she wake ____ early?", options:["up","off"], correct:0},
{text:"Did he turn ____ the computer?", options:["off","up"], correct:0},
{text:"Do they look ____ the child?", options:["after","up"], correct:0},
{text:"Did you pick ____ the keys?", options:["up","on"], correct:0},
{text:"Did he put ____ his shoes?", options:["on","after"], correct:0},
{text:"Did they break ____?", options:["up","off"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"picked / up / he / the phone", options:["He picked up the phone.","He picked the phone up."], correct:0},
{text:"turned / off / she / the light", options:["She turned off the light.","She off turned the light."], correct:0},
{text:"look / after / they / the baby", options:["They look after the baby.","They look the baby after."], correct:0},
{text:"put / on / he / his coat", options:["He put on his coat.","He coat put on."], correct:0},
{text:"woke / up / she / early", options:["She woke up early.","She up woke early."], correct:0},
{text:"broke / up / they", options:["They broke up.","They up broke."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(He / turned / off / the TV)", options:["He turned off the TV.","He off turned the TV."], correct:0},
{text:"(She / woke / up / early)", options:["She woke up early.","She woke early up."], correct:0},
{text:"(They / looked / after / the baby)", options:["They looked after the baby.","They looked the baby after."], correct:0},
{text:"(We / picked / up / the toys)", options:["We picked up the toys.","We picked the toys up."], correct:0},
{text:"(He / put / on / his jacket)", options:["He put on his jacket.","He on put his jacket."], correct:0},
{text:"(They / broke / up)", options:["They broke up.","They up broke."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–û–Ω–∞ –ø—Ä–æ—Å–Ω—É–ª–∞—Å—å –≤ 7.", options:["She woke up at 7.","She woke at 7 up."], correct:0},
{text:"–û–Ω –≤—ã–∫–ª—é—á–∏–ª —Ç–µ–ª–µ–≤–∏–∑–æ—Ä.", options:["He turned off the TV.","He off turned the TV."], correct:0},
{text:"–û–Ω–∏ –ø—Ä–∏—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ –∑–∞ —Ä–µ–±—ë–Ω–∫–æ–º.", options:["They looked after the baby.","They looked the baby after."], correct:0},
{text:"–ú—ã —Å–æ–±—Ä–∞–ª–∏ –∏–≥—Ä—É—à–∫–∏.", options:["We picked up the toys.","We picked the toys up."], correct:0},
{text:"–û–Ω –Ω–∞–¥–µ–ª –∫—É—Ä—Ç–∫—É.", options:["He put on his jacket.","He put his jacket on."], correct:0},
{text:"–û–Ω–∏ —Ä–∞—Å—Å—Ç–∞–ª–∏—Å—å.", options:["They broke up.","They broke."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 15     =========================
   ============================================================ */
{
id:15,
title:"Linking Words",
level:"Intermediate",
explanation:"Linking words connect ideas: although/though, however ‚Äî contrast; because ‚Äî reason; therefore ‚Äî result; in order to ‚Äî purpose.",
ruleRu:"–°–≤—è–∑—É—é—â–∏–µ —Å–ª–æ–≤–∞: although/though ‚Äî –∫–æ–Ω—Ç—Ä–∞—Å—Ç; however ‚Äî –æ–¥–Ω–∞–∫–æ; because ‚Äî –ø—Ä–∏—á–∏–Ω–∞; therefore ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç; in order to ‚Äî —Ü–µ–ª—å.",
formulas:[
 "although + clause",
 "clause. However, clause.",
 "because + clause",
 "clause; therefore, clause.",
 "in order to + verb"
],
examples:[
 "Although it was cold, we went out.",
 "He was tired; however, he finished the work."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"____ it was raining, we went for a walk.", options:["Although","Because"], correct:0},
{text:"He stayed home ____ he was sick.", options:["because","although"], correct:0},
{text:"She studied hard; ____, she passed the exam.", options:["therefore","although"], correct:0},
{text:"He left early ____ catch the bus.", options:["in order to","because"], correct:0},
{text:"____ he was tired, he continued working.", options:["Although","Therefore"], correct:0},
{text:"She didn‚Äôt go ____ she was busy.", options:["because","although"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"He didn‚Äôt go out ____ it wasn‚Äôt warm.", options:["because","although"], correct:0},
{text:"They didn‚Äôt stop ____ it was difficult.", options:["although","because"], correct:0},
{text:"She didn‚Äôt pass; ____, she didn‚Äôt study.", options:["because","however"], correct:1},
{text:"He didn‚Äôt leave early ____ he didn‚Äôt want to.", options:["because","although"], correct:0},
{text:"____ it wasn‚Äôt sunny, they didn‚Äôt swim.", options:["Because","Although"], correct:0},
{text:"She didn‚Äôt call; ____, she forgot.", options:["because","however"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Why didn‚Äôt you go ____ it was late?", options:["because","although"], correct:0},
{text:"Did he stop working, ____ he was tired?", options:["because","although"], correct:0},
{text:"Did she stay home; ____, was she sick?", options:["however","because"], correct:0},
{text:"Why did he leave early ____ meet you?", options:["in order to","because"], correct:0},
{text:"Did they go out ____ it was cold?", options:["although","because"], correct:0},
{text:"Did he fail; ____, did he study?", options:["however","therefore"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"although / it was late / they stayed", options:["Although it was late, they stayed.","They stayed although it was late."], correct:0},
{text:"because / he was ill / he stayed home", options:["He stayed home because he was ill.","Because he was ill he stayed home."], correct:0},
{text:"he was tired / however / he worked", options:["He was tired. However, he worked.","However, he was tired he worked."], correct:0},
{text:"he left / in order to / study", options:["He left in order to study.","He in order to study left."], correct:0},
{text:"they passed / therefore / they studied", options:["They studied; therefore, they passed.","They passed; therefore, they studied."], correct:0},
{text:"because / it rained / they didn‚Äôt go", options:["They didn‚Äôt go because it rained.","Because it rained they didn‚Äôt go."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(Although / it was cold / we went out)", options:["Although it was cold, we went out.","We went out although it was cold."], correct:0},
{text:"(He stayed home / because / he was ill)", options:["He stayed home because he was ill.","Because he was ill he stayed home."], correct:0},
{text:"(He was tired / however / he finished)", options:["He was tired. However, he finished.","However, he was tired he finished."], correct:0},
{text:"(She left / in order to / help)", options:["She left in order to help.","She in order to help left."], correct:0},
{text:"(They studied / therefore / they passed)", options:["They studied; therefore, they passed.","They passed; therefore, they studied."], correct:0},
{text:"(They didn‚Äôt go / because / it rained)", options:["They didn‚Äôt go because it rained.","Because it rained they didn‚Äôt go."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–•–æ—Ç—è –±—ã–ª–æ —Ö–æ–ª–æ–¥–Ω–æ, –º—ã –≤—ã—à–ª–∏.", options:["Although it was cold, we went out.","Because it was cold, we went out."], correct:0},
{text:"–û–Ω –æ—Å—Ç–∞–ª—Å—è –¥–æ–º–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –±—ã–ª –±–æ–ª–µ–Ω.", options:["He stayed home because he was ill.","He stayed home although he was ill."], correct:0},
{text:"–û–Ω –±—ã–ª —É—Å—Ç–∞–≤—à–∏–π. –û–¥–Ω–∞–∫–æ –æ–Ω –∑–∞–∫–æ–Ω—á–∏–ª.", options:["He was tired. However, he finished.","He was tired; therefore, he finished."], correct:0},
{text:"–û–Ω–∞ —É—à–ª–∞, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å.", options:["She left in order to help.","She left because she helped."], correct:0},
{text:"–û–Ω–∏ –∑–∞–Ω–∏–º–∞–ª–∏—Å—å, –ø–æ—ç—Ç–æ–º—É —Å–¥–∞–ª–∏.", options:["They studied; therefore, they passed.","They passed; therefore, they studied."], correct:0},
{text:"–ú—ã –Ω–µ –ø–æ—à–ª–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ —à—ë–ª –¥–æ–∂–¥—å.", options:["We didn‚Äôt go because it rained.","We didn‚Äôt go although it rained."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 16     =========================
   ============================================================ */
{
id:16,
title:"Countable & Uncountable Nouns",
level:"Intermediate",
explanation:"Countable nouns can be counted; uncountable nouns cannot be counted directly. Different quantifiers: many/few for countable; much/little for uncountable.",
ruleRu:"–ò—Å—á–∏—Å–ª—è–µ–º—ã–µ ‚Äî –º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å; –Ω–µ–∏—Å—á–∏—Å–ª—è–µ–º—ã–µ ‚Äî –Ω–µ–ª—å–∑—è –ø–æ—à—Ç—É—á–Ω–æ. Many/few ‚Üí –∏—Å—á–∏—Å–ª.; much/little ‚Üí –Ω–µ–∏—Å—á–∏—Å–ª.",
formulas:[
 "many / few / a few + countable",
 "much / little / a little + uncountable",
 "some / any + –æ–±–∞ —Ç–∏–ø–∞"
],
examples:[
 "There are many books.",
 "There is a little water."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"There are ____ apples.", options:["many","much"], correct:0},
{text:"There is ____ milk.", options:["much","many"], correct:0},
{text:"We have ____ friends.", options:["a few","a little"], correct:0},
{text:"He has ____ water.", options:["a little","a few"], correct:0},
{text:"There are ____ chairs.", options:["few","little"], correct:0},
{text:"There is ____ sugar.", options:["little","few"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"There aren‚Äôt ____ books.", options:["many","much"], correct:0},
{text:"There isn‚Äôt ____ juice.", options:["much","many"], correct:0},
{text:"He doesn‚Äôt have ____ friends.", options:["many","much"], correct:0},
{text:"We don‚Äôt have ____ water.", options:["much","many"], correct:0},
{text:"There aren‚Äôt ____ chairs.", options:["many","much"], correct:0},
{text:"There isn‚Äôt ____ rice.", options:["much","many"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Are there ____ apples?", options:["many","much"], correct:0},
{text:"Is there ____ milk?", options:["much","many"], correct:0},
{text:"Do you have ____ friends?", options:["many","much"], correct:0},
{text:"Do they have ____ sugar?", options:["much","many"], correct:0},
{text:"Are there ____ chairs?", options:["many","much"], correct:0},
{text:"Is there ____ water?", options:["much","many"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"many / she / has / books", options:["She has many books.","She has books many."], correct:0},
{text:"much / water / is / there", options:["There is much water.","There much is water."], correct:0},
{text:"a few / we / have / apples", options:["We have a few apples.","We a few have apples."], correct:0},
{text:"little / there / is / sugar", options:["There is little sugar.","There little is sugar."], correct:0},
{text:"few / in the room / chairs / are", options:["There are few chairs in the room.","Few chairs are in the room there."], correct:0},
{text:"a little / he / has / time", options:["He has a little time.","He has time a little."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(There / are / many / books)", options:["There are many books.","There many are books."], correct:0},
{text:"(There / is / much / milk)", options:["There is much milk.","There much is milk."], correct:0},
{text:"(We / have / a few / friends)", options:["We have a few friends.","We a few friends have."], correct:0},
{text:"(He / has / a little / money)", options:["He has a little money.","He has money a little."], correct:0},
{text:"(There / are / few / chairs)", options:["There are few chairs.","There few are chairs."], correct:0},
{text:"(There / is / little / sugar)", options:["There is little sugar.","There little is sugar."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–¢–∞–º –º–Ω–æ–≥–æ –∫–Ω–∏–≥.", options:["There are many books.","There is many books."], correct:0},
{text:"–¢–∞–º –º–∞–ª–æ –≤–æ–¥—ã.", options:["There is little water.","There are little water."], correct:0},
{text:"–£ –Ω–∞—Å –º–∞–ª–æ –¥—Ä—É–∑–µ–π.", options:["We have few friends.","We have little friends."], correct:0},
{text:"–£ –Ω–µ–≥–æ –Ω–µ–º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥.", options:["He has a little money.","He has a few money."], correct:0},
{text:"–¢–∞–º –º–∞–ª–æ —Å—Ç—É–ª—å–µ–≤.", options:["There are few chairs.","There is few chairs."], correct:0},
{text:"–¢–∞–º –º–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞.", options:["There is much milk.","There are much milk."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 17     =========================
   ============================================================ */
{
id:17,
title:"Complex Object (V + object + to V)",
level:"Intermediate",
explanation:"Complex Object is used after verbs like want, ask, tell, expect, allow when one person wants another person to do something.",
ruleRu:"–°–ª–æ–∂–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: want/ask/tell/expect/allow + object + to V. –ü—Ä–∏–º–µ—Ä: I want you to help.",
formulas:["S + V + object + to V"],
examples:[
 "I want you to listen.",
 "She told me to wait."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I want you ____ (help).", options:["to help","helping"], correct:0},
{text:"She asked him ____ (come).", options:["to come","coming"], correct:0},
{text:"They told us ____ (wait).", options:["to wait","waiting"], correct:0},
{text:"He expects me ____ (finish).", options:["to finish","finishing"], correct:0},
{text:"We need you ____ (listen).", options:["to listen","listening"], correct:0},
{text:"She allowed him ____ (go).", options:["to go","going"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I don‚Äôt want you ____ (help).", options:["to help","helping"], correct:0},
{text:"She didn‚Äôt ask him ____ (leave).", options:["to leave","leaving"], correct:0},
{text:"They didn‚Äôt tell us ____ (wait).", options:["to wait","waiting"], correct:0},
{text:"He doesn‚Äôt expect me ____ (come).", options:["to come","coming"], correct:0},
{text:"We didn‚Äôt need you ____ (go).", options:["to go","going"], correct:0},
{text:"She didn‚Äôt allow him ____ (drive).", options:["to drive","driving"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Do you want me ____ (help)?", options:["to help","helping"], correct:0},
{text:"Did she ask him ____ (wait)?", options:["to wait","waiting"], correct:0},
{text:"Do they want us ____ (come)?", options:["to come","coming"], correct:0},
{text:"Does he expect you ____ (study)?", options:["to study","studying"], correct:0},
{text:"Did you tell him ____ (sit)?", options:["to sit","sitting"], correct:0},
{text:"Do we need them ____ (go)?", options:["to go","going"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"want / I / you / to help", options:["I want you to help.","I want to help you."], correct:0},
{text:"asked / she / him / to come", options:["She asked him to come.","She asked to come him."], correct:0},
{text:"told / they / us / to wait", options:["They told us to wait.","They told to wait us."], correct:0},
{text:"expect / he / me / to finish", options:["He expects me to finish.","He expects to finish me."], correct:0},
{text:"need / we / you / to listen", options:["We need you to listen.","We need to listen you."], correct:0},
{text:"allowed / she / him / to go", options:["She allowed him to go.","She allowed to go him."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / want / you / to help)", options:["I want you to help.","I want to help you."], correct:0},
{text:"(She / asked / him / to wait)", options:["She asked him to wait.","She asked to wait him."], correct:0},
{text:"(They / told / us / to come)", options:["They told us to come.","They told to come us."], correct:0},
{text:"(He / expects / me / to study)", options:["He expects me to study.","He expects to study me."], correct:0},
{text:"(We / need / you / to finish)", options:["We need you to finish.","We need to finish you."], correct:0},
{text:"(She / allowed / him / to leave)", options:["She allowed him to leave.","She allowed to leave him."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–Ø —Ö–æ—á—É, —á—Ç–æ–±—ã —Ç—ã –ø–æ–º–æ–≥.", options:["I want you to help.","I want to help you."], correct:0},
{text:"–û–Ω–∞ –ø–æ–ø—Ä–æ—Å–∏–ª–∞ –µ–≥–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å.", options:["She asked him to wait.","She asked to wait him."], correct:0},
{text:"–û–Ω–∏ —Å–∫–∞–∑–∞–ª–∏ –Ω–∞–º –ø—Ä–∏–π—Ç–∏.", options:["They told us to come.","They told to come us."], correct:0},
{text:"–û–Ω –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ —è –±—É–¥—É —É—á–∏—Ç—å—Å—è.", options:["He expects me to study.","He expects to study me."], correct:0},
{text:"–ú—ã –Ω—É–∂–¥–∞–µ–º—Å—è, —á—Ç–æ–±—ã —Ç—ã –∑–∞–∫–æ–Ω—á–∏–ª.", options:["We need you to finish.","We need to finish you."], correct:0},
{text:"–û–Ω–∞ –ø–æ–∑–≤–æ–ª–∏–ª–∞ –µ–º—É —É–π—Ç–∏.", options:["She allowed him to leave.","She allowed to leave him."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 18     =========================
   ============================================================ */
{
id:18,
title:"Causative (have/get something done)",
level:"Intermediate",
explanation:"We use the causative when someone does something for us (a service). Example: I had my hair cut.",
ruleRu:"–ö–∞—É–∑–∞—Ç–∏–≤: –Ω–∞–º –æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ª—É–≥—É ‚Äî I had my hair cut (–º–Ω–µ –ø–æ—Å—Ç—Ä–∏–≥–ª–∏ –≤–æ–ª–æ—Å—ã).",
formulas:["have/get + object + V3"],
examples:[
 "I had my phone repaired.",
 "She got her hair cut."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"I had my phone ____ (repair).", options:["repaired","repairing"], correct:0},
{text:"She got her hair ____ (cut).", options:["cut","cutten"], correct:0},
{text:"We had the car ____ (wash).", options:["washed","wash"], correct:0},
{text:"He got his roof ____ (fix).", options:["fixed","fixing"], correct:0},
{text:"They had their house ____ (paint).", options:["painted","painting"], correct:0},
{text:"She got her nails ____ (do).", options:["done","did"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"I didn‚Äôt have my phone ____ (repair).", options:["repaired","repairing"], correct:0},
{text:"She didn‚Äôt get her hair ____ (cut).", options:["cut","cutten"], correct:0},
{text:"We didn‚Äôt have the car ____ (wash).", options:["washed","washing"], correct:0},
{text:"He didn‚Äôt get his roof ____ (fix).", options:["fixed","fixing"], correct:0},
{text:"They didn‚Äôt have their house ____ (paint).", options:["painted","painting"], correct:0},
{text:"She didn‚Äôt get her nails ____ (do).", options:["done","doing"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Did you have your phone ____?", options:["repaired","repair"], correct:0},
{text:"Did she get her hair ____?", options:["cut","cutten"], correct:0},
{text:"Did they have the car ____?", options:["washed","washing"], correct:0},
{text:"Did he get his roof ____?", options:["fixed","fixing"], correct:0},
{text:"Did you have your house ____?", options:["painted","painting"], correct:0},
{text:"Did she get her nails ____?", options:["done","doing"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"had / I / my phone / repaired", options:["I had my phone repaired.","I had repaired my phone."], correct:0},
{text:"her hair / got / she / cut", options:["She got her hair cut.","She cut her hair got."], correct:0},
{text:"had / the car / we / washed", options:["We had the car washed.","We washed the car had."], correct:0},
{text:"his roof / he / got / fixed", options:["He got his roof fixed.","He fixed his roof got."], correct:0},
{text:"their house / painted / they / had", options:["They had their house painted.","They painted their house had."], correct:0},
{text:"her nails / she / got / done", options:["She got her nails done.","She did her nails got."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build the sentence",
questions:[
{text:"(I / had / my phone / repaired)", options:["I had my phone repaired.","I had repaired my phone."], correct:0},
{text:"(She / got / her hair / cut)", options:["She got her hair cut.","She cut her hair got."], correct:0},
{text:"(We / had / the car / washed)", options:["We had the car washed.","We washed the car had."], correct:0},
{text:"(He / got / his roof / fixed)", options:["He got his roof fixed.","He fixed his roof got."], correct:0},
{text:"(They / had / their house / painted)", options:["They had their house painted.","They painted their house had."], correct:0},
{text:"(She / got / her nails / done)", options:["She got her nails done.","She did her nails got."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ú–Ω–µ –ø–æ—á–∏–Ω–∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω.", options:["I had my phone repaired.","I repaired my phone."], correct:0},
{text:"–ï–π –ø–æ–¥—Å—Ç—Ä–∏–≥–ª–∏ –≤–æ–ª–æ—Å—ã.", options:["She got her hair cut.","She cut her hair."], correct:0},
{text:"–ù–∞–º –ø–æ–º—ã–ª–∏ –º–∞—à–∏–Ω—É.", options:["We had the car washed.","We washed the car."], correct:0},
{text:"–ï–º—É –ø–æ—á–∏–Ω–∏–ª–∏ –∫—Ä—ã—à—É.", options:["He got his roof fixed.","He fixed his roof."], correct:0},
{text:"–ò–º –ø–æ–∫—Ä–∞—Å–∏–ª–∏ –¥–æ–º.", options:["They had their house painted.","They painted their house."], correct:0},
{text:"–ï–π —Å–¥–µ–ª–∞–ª–∏ –º–∞–Ω–∏–∫—é—Ä.", options:["She got her nails done.","She did her nails."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 19     =========================
   ============================================================ */
{
id:19,
title:"Cleft Sentences (It is/was ‚Ä¶ that ‚Ä¶)",
level:"Intermediate",
explanation:"Cleft sentences are used to emphasise a particular part of the sentence.",
ruleRu:"Cleft-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –≤—ã–¥–µ–ª—è—é—Ç –≤–∞–∂–Ω—É—é —á–∞—Å—Ç—å: It was John who‚Ä¶ / It is this book that‚Ä¶",
formulas:["It is/was + noun/pronoun + who/that + clause"],
examples:[
 "It was John who helped me.",
 "It is this book that I like most."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"It was my mom ____ cooked dinner.", options:["who","that"], correct:0},
{text:"It is the book ____ I love.", options:["that","who"], correct:0},
{text:"It was Tom ____ called me.", options:["who","that"], correct:0},
{text:"It is this place ____ we met.", options:["where","that"], correct:1},
{text:"It is my friends ____ support me.", options:["who","that"], correct:0},
{text:"It was the film ____ we watched.", options:["that","who"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"It wasn‚Äôt me ____ broke it.", options:["who","that"], correct:0},
{text:"It isn‚Äôt the book ____ I need.", options:["that","who"], correct:0},
{text:"It wasn‚Äôt Tom ____ helped her.", options:["who","that"], correct:0},
{text:"It isn‚Äôt this street ____ we live.", options:["where","that"], correct:0},
{text:"It wasn‚Äôt my friends ____ called.", options:["who","that"], correct:0},
{text:"It isn‚Äôt the film ____ I chose.", options:["that","who"], correct:0}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Was it you ____ did this?", options:["who","that"], correct:0},
{text:"Is it the book ____ you want?", options:["that","who"], correct:0},
{text:"Was it Tom ____ called you?", options:["who","that"], correct:0},
{text:"Is it this place ____ you like?", options:["that","where"], correct:0},
{text:"Is it your friend ____ helps you?", options:["who","that"], correct:0},
{text:"Was it the film ____ you watched?", options:["that","who"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"was / it / John / who / helped", options:["It was John who helped.","John was who it helped."], correct:0},
{text:"is / it / this book / that / I love", options:["It is this book that I love.","This book is it that I love."], correct:0},
{text:"was / it / Tom / who / called", options:["It was Tom who called.","Tom was who it called."], correct:0},
{text:"is / it / my mom / who / cooks", options:["It is my mom who cooks.","My mom cooks it who is."], correct:0},
{text:"was / it / the film / that / we watched", options:["It was the film that we watched.","The film was it that watched."], correct:0},
{text:"is / it / my friends / who / help", options:["It is my friends who help.","My friends it is who help."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build",
questions:[
{text:"(It / was / John / who / helped)", options:["It was John who helped.","John was it who helped."], correct:0},
{text:"(It / is / this book / that / I love)", options:["It is this book that I love.","This book is it that I love."], correct:0},
{text:"(It / was / Tom / who / called)", options:["It was Tom who called.","Tom was who it called."], correct:0},
{text:"(It / is / my mom / who / cooks)", options:["It is my mom who cooks.","My mom it is who cooks."], correct:0},
{text:"(It / was / the film / that / we watched)", options:["It was the film that we watched.","The film was it that we watched."], correct:0},
{text:"(It / is / my friends / who / help)", options:["It is my friends who help.","My friends who help it is."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–ò–º–µ–Ω–Ω–æ –î–∂–æ–Ω –ø–æ–º–æ–≥ –º–Ω–µ.", options:["It was John who helped me.","John helped me."], correct:0},
{text:"–≠—Ç–æ —Ç–∞ –∫–Ω–∏–≥–∞, –∫–æ—Ç–æ—Ä—É—é —è –ª—é–±–ª—é.", options:["It is this book that I love.","This is book I love."], correct:0},
{text:"–ò–º–µ–Ω–Ω–æ –¢–æ–º –ø–æ–∑–≤–æ–Ω–∏–ª.", options:["It was Tom who called.","Tom called."], correct:0},
{text:"–≠—Ç–æ –º–µ—Å—Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ –º–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è.", options:["It is this place that I like.","It is this place who I like."], correct:0},
{text:"–ò–º–µ–Ω–Ω–æ –º–∞–º–∞ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∞ —É–∂–∏–Ω.", options:["It was my mom who cooked dinner.","My mom cooked dinner."], correct:0},
{text:"–≠—Ç–æ —Ñ–∏–ª—å–º, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–º–æ—Ç—Ä–µ–ª–∏.", options:["It is the film that we watched.","It is the film who we watched."], correct:0}
]
}

]
},
/* ============================================================
   ================       TOPIC 20     =========================
   ============================================================ */
{
id:20,
title:"Quantifiers: too / enough / so / such",
level:"Intermediate",
explanation:"Too = more than needed; enough = sufficient; so + adj; such + (a) + adj + noun.",
ruleRu:"Too ‚Äî —Å–ª–∏—à–∫–æ–º; enough ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ; so ‚Äî —Ç–∞–∫, –æ—á–µ–Ω—å; such ‚Äî —Ç–∞–∫–æ–π/—Ç–∞–∫–∞—è + —Å—É—â.",
formulas:[
 "too + adjective",
 "adjective + enough",
 "so + adjective",
 "such + (a) + adjective + noun"
],
examples:[
 "It is too cold.",
 "She is tall enough."
],
exercises:[

/* ----------------- 1) AFFIRMATIVE ----------------- */
{
title:"1) Affirmative",
questions:[
{text:"It is ____ cold.", options:["too","enough"], correct:0},
{text:"She is tall ____. ", options:["enough","too"], correct:0},
{text:"It is ____ a nice day.", options:["such","so"], correct:0},
{text:"He is ____ tired.", options:["so","such"], correct:0},
{text:"She is ____ a smart girl.", options:["such","so"], correct:0},
{text:"The bag is ____ heavy.", options:["too","enough"], correct:0}
]
},

/* ----------------- 2) NEGATIVE ----------------- */
{
title:"2) Negative",
questions:[
{text:"It isn‚Äôt warm ____.", options:["enough","too"], correct:0},
{text:"She isn‚Äôt strong ____ to lift it.", options:["enough","too"], correct:0},
{text:"It isn‚Äôt ____ a big room.", options:["such","so"], correct:0},
{text:"He isn‚Äôt ____ tall.", options:["so","such"], correct:0},
{text:"The bag isn‚Äôt ____ heavy.", options:["too","enough"], correct:1},
{text:"The room isn‚Äôt ____ cold.", options:["too","enough"], correct:1}
]
},

/* ----------------- 3) QUESTIONS ----------------- */
{
title:"3) Questions",
questions:[
{text:"Is it ____ cold?", options:["too","enough"], correct:0},
{text:"Is she tall ____?", options:["enough","too"], correct:0},
{text:"Is it ____ a nice place?", options:["such","so"], correct:0},
{text:"Is he ____ tired?", options:["so","such"], correct:0},
{text:"Is she ____ a good student?", options:["such","so"], correct:0},
{text:"Is the box ____ heavy?", options:["too","enough"], correct:0}
]
},

/* ----------------- 4) WORD ORDER ----------------- */
{
title:"4) Word order",
questions:[
{text:"too / it / is / cold", options:["It is too cold.","It too is cold."], correct:0},
{text:"tall / enough / she / is", options:["She is tall enough.","She is enough tall."], correct:0},
{text:"such / a / nice / day / it / is", options:["It is such a nice day.","It is a such nice day."], correct:0},
{text:"he / so / is / tired", options:["He is so tired.","He so is tired."], correct:0},
{text:"is / such / a / smart / girl / she", options:["She is such a smart girl.","She such is a smart girl."], correct:0},
{text:"bag / heavy / too / the / is", options:["The bag is too heavy.","The bag too is heavy."], correct:0}
]
},

/* ----------------- 5) BUILD ----------------- */
{
title:"5) Build",
questions:[
{text:"(It / is / too / cold)", options:["It is too cold.","It too is cold."], correct:0},
{text:"(She / is / tall / enough)", options:["She is tall enough.","She is enough tall."], correct:0},
{text:"(It / is / such / a / good day)", options:["It is such a good day.","It is a such good day."], correct:0},
{text:"(He / is / so / tired)", options:["He is so tired.","He so is tired."], correct:0},
{text:"(She / is / such / a / kind girl)", options:["She is such a kind girl.","She is a such kind girl."], correct:0},
{text:"(The / bag / is / too / heavy)", options:["The bag is too heavy.","The bag too is heavy."], correct:0}
]
},

/* ----------------- 6) TRANSLATE ----------------- */
{
title:"6) Translate",
questions:[
{text:"–°–ª–∏—à–∫–æ–º —Ö–æ–ª–æ–¥–Ω–æ.", options:["It is too cold.","It is cold enough."], correct:0},
{text:"–û–Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∞—è.", options:["She is tall enough.","She is enough tall."], correct:0},
{text:"–≠—Ç–æ —Ç–∞–∫–æ–π —Ö–æ—Ä–æ—à–∏–π –¥–µ–Ω—å.", options:["It is such a good day.","It is so good day."], correct:0},
{text:"–û–Ω —Ç–∞–∫ —É—Å—Ç–∞–ª.", options:["He is so tired.","He is such tired."], correct:0},
{text:"–û–Ω–∞ —Ç–∞–∫–∞—è —É–º–Ω–∞—è –¥–µ–≤—É—à–∫–∞.", options:["She is such a smart girl.","She is so smart girl."], correct:0},
{text:"–°—É–º–∫–∞ —Å–ª–∏—à–∫–æ–º —Ç—è–∂—ë–ª–∞—è.", options:["The bag is too heavy.","The bag is heavy enough."], correct:0}
]
}

]
},
]; // END OF TOPICS

/* ---------- STATE & STORAGE ---------- */

let currentUser = null; // {name, code, classLabel, stars, lastLogin}
let currentTopicId = null;

function todayStr(){
  return new Date().toISOString().slice(0,10);
}
function studentKey(code){
  return "bayan_student_"+code;
}

function loadStudent(code,name,classLabel){
  const key = studentKey(code);
  let data = null;
  try{
    data = JSON.parse(localStorage.getItem(key));
  }catch(e){
    data=null;
  }
  if(!data){
    data = {
      name:name||"",
      code,
      classLabel,
      stars:0,
      lastLogin:null
    };
  }else{
    if(name) data.name = name;
    data.classLabel = classLabel;
  }
  data.lastLogin = todayStr();
  localStorage.setItem(key,JSON.stringify(data));
  return data;
}
function saveCurrent(){
  if(!currentUser) return;
  const key = studentKey(currentUser.code);
  localStorage.setItem(key,JSON.stringify(currentUser));
}

/* ---------- SCREEN SWITCHING ---------- */

function showOnly(id){
  document.getElementById("loginScreen").classList.add("hidden");
  document.getElementById("mainMenuScreen").classList.add("hidden");
  document.getElementById("topicScreen").classList.add("hidden");
  document.getElementById("teacherScreen").classList.add("hidden");
  document.getElementById(id).classList.remove("hidden");
}
function setTopInfo(html){
  document.getElementById("topInfo").innerHTML = html;
}

/* ---------- LOGIN ---------- */

function handleLogin(){
  const name = document.getElementById("loginName").value.trim();
  const codeStr = document.getElementById("loginCode").value.trim();
  const errorEl = document.getElementById("loginError");
  errorEl.classList.add("hidden");
  errorEl.textContent = "";

  if(!codeStr){
    errorEl.textContent = "Enter your code.";
    errorEl.classList.remove("hidden");
    return;
  }

  // teacher code (hidden from students on the screen)
  if(codeStr==="3234"){
    setTopInfo(`Logged in as <strong>TEACHER</strong> ¬∑ code 3234`);
    renderTeacherTable();
    showOnly("teacherScreen");
    return;
  }

  const num = Number(codeStr);
  if(!Number.isInteger(num)){
    errorEl.textContent = "Code must be a number.";
    errorEl.classList.remove("hidden");
    return;
  }
  const classLabel = getClassByCode(num);
  if(!classLabel){
    errorEl.textContent = "Unknown student code. Ask your teacher.";
    errorEl.classList.remove("hidden");
    return;
  }
  if(!name){
    errorEl.textContent = "Enter your name.";
    errorEl.classList.remove("hidden");
    return;
  }

  currentUser = loadStudent(num,name,classLabel);
  saveCurrent();
  setTopInfo(
    `Class <strong>${currentUser.classLabel}</strong> ¬∑ Student: <strong>${currentUser.name}</strong> (code ${currentUser.code}) ¬∑ Stars: <strong id="topStars">${currentUser.stars}</strong>`
  );
  buildMainMenu();
  updateTopStars();
  showOnly("mainMenuScreen");
}

function backToLogin(){
  currentUser = null;
  setTopInfo("Not logged in");
  document.getElementById("loginCode").value = "";
  document.getElementById("loginName").value = "";
  showOnly("loginScreen");
}

/* ---------- MAIN MENU UI ---------- */

function buildMainMenu(){
  if(!currentUser) return;
  document.getElementById("menuInfo").innerHTML =
    `Class <strong>${currentUser.classLabel}</strong>, student <strong>${currentUser.name}</strong> (code ${currentUser.code})`;
  document.getElementById("menuStars").textContent = currentUser.stars ?? 0;

  const grid = document.getElementById("menuTopics");
  grid.innerHTML = "";
  topics.forEach(t=>{
    const div = document.createElement("div");
    div.className = "topic-card";
    const color = topicColors[t.id] || "#7b1f3a";
    div.style.borderColor = color+"55";
    div.style.background = "#fdf7fa";
    div.innerHTML = `
      <div class="topic-card-title">${t.id}. ${t.title}</div>
      <div class="topic-card-sub">${t.level}</div>
    `;
    div.addEventListener("click",()=>openTopic(t.id));
    grid.appendChild(div);
  });

  // demo message in AI panel
  const chat = document.getElementById("chatBox");
  chat.innerHTML = "";
  const msg = document.createElement("div");
  msg.className = "chat-msg";
  msg.textContent = "AI Bayan chat will be available later. Now use topics and explanations.";
  chat.appendChild(msg);
  document.getElementById("aiLimit").textContent = "¬∑ demo mode";
}

/* ---------- TOPIC SCREEN ---------- */

function openTopic(id){
  currentTopicId = id;
  const t = topics.find(x=>x.id===id);
  if(!t) return;

  const color = topicColors[id] || "#7b1f3a";
  document.documentElement.style.setProperty("--topicColor",color);

  document.getElementById("topicHeaderTitle").textContent = `${id}. ${t.title}`;
  document.getElementById("topicHeaderTag").innerHTML =
    `<span class="tag">${t.level}</span>`;

  const rc = document.getElementById("topicRuleContainer");
  rc.innerHTML = "";
  const gbox = document.createElement("div");
  gbox.className = "grammar-box";
  gbox.innerHTML = `
    <strong>Rule (EN):</strong> ${t.explanation || ""}
    ${
      t.formulas && t.formulas.length
        ? "<div style='margin-top:6px;'>"+
          t.formulas.map(f=>`<span class="formula">${f}</span>`).join(" ")+
          "</div>"
        : ""
    }
    ${
      t.ruleRu
        ? `<div class="grammar-ru">
             <strong>–ü—Ä–∞–≤–∏–ª–æ (RU):</strong><br>
             ${t.ruleRu}
           </div>`
        : ""
    }
  `;
  rc.appendChild(gbox);

  if(t.examples && t.examples.length){
    const ul = document.createElement("ul");
    ul.className = "examples";
    t.examples.forEach(e=>{
      const li = document.createElement("li");
      li.textContent = e;
      ul.appendChild(li);
    });
    rc.appendChild(ul);
  }

  const ec = document.getElementById("topicExercisesContainer");
  ec.innerHTML = "";
  if(!t.exercises || t.exercises.length===0){
    const p = document.createElement("p");
    p.className = "muted";
    p.style.marginTop = "10px";
    p.textContent = "Exercises for this topic will be added later.";
    ec.appendChild(p);
  }else{
    const wrapper = document.createElement("div");
    wrapper.className = "exercises";
    t.exercises.forEach((ex,exIndex)=>{
      const block = document.createElement("div");
      block.className = "exercise-block";
      const title = document.createElement("div");
      title.className = "exercise-title";
      title.innerHTML = ex.title;
      block.appendChild(title);

      ex.questions.forEach((q,qIndex)=>{
        const row = document.createElement("div");
        row.className = "question-row";
        const qText = document.createElement("div");
        qText.className = "question-text";
        qText.textContent = `${qIndex+1}) ${q.text}`;
        row.appendChild(qText);

        const opts = document.createElement("div");
        opts.className = "options";
        if(q.options && q.options.length){
          q.options.forEach((opt,optIndex)=>{
            const label = document.createElement("label");
            const radio = document.createElement("input");
            radio.type = "radio";
            const gname = `t${id}_e${exIndex}_q${qIndex}`;
            radio.name = gname;
            radio.value = optIndex;
            label.appendChild(radio);
            label.appendChild(document.createTextNode(" "+opt));
            opts.appendChild(label);
          });
        }
        row.appendChild(opts);

        const mark = document.createElement("span");
        mark.className = "mark";
        mark.id = `mark_t${id}_e${exIndex}_q${qIndex}`;
        row.appendChild(mark);

        block.appendChild(row);
      });

      const footer = document.createElement("div");
      footer.className = "exercise-footer";
      const small = document.createElement("small");
      small.textContent = "Each correct answer gives you 1 star.";
      const btn = document.createElement("button");
      btn.className = "btn btn-primary";
      btn.textContent = "Check";
      btn.addEventListener("click",()=>checkExercise(id,exIndex));
      footer.appendChild(small);
      footer.appendChild(btn);
      block.appendChild(footer);

      wrapper.appendChild(block);
    });
    ec.appendChild(wrapper);
  }

  document.getElementById("topicStatus").textContent = "";
  showOnly("topicScreen");
}

function backToMenu(){
  if(!currentUser){
    backToLogin();
    return;
  }
  buildMainMenu();
  showOnly("mainMenuScreen");
}

function printCurrentTopic(){
  if(!currentTopicId) return;
  window.print();
}

function checkExercise(topicId,exIndex){
  if(!currentUser) return;
  const t = topics.find(x=>x.id===topicId);
  if(!t) return;
  const ex = t.exercises[exIndex];
  if(!ex) return;

  let gained = 0;
  ex.questions.forEach((q,qIndex)=>{
    const gname = `t${topicId}_e${exIndex}_q${qIndex}`;
    const selected = document.querySelector(`input[name="${gname}"]:checked`);
    const markEl = document.getElementById(`mark_t${topicId}_e${exIndex}_q${qIndex}`);
    if(!markEl) return;
    markEl.textContent = "";
    markEl.classList.remove("correct","wrong");

    if(!selected){
      markEl.textContent = "‚Ä¢";
      return;
    }
    const chosen = Number(selected.value);
    if(chosen===q.correct){
      markEl.textContent="‚úì";
      markEl.classList.add("correct");
      gained++;
    }else{
      markEl.textContent="‚úó";
      markEl.classList.add("wrong");
    }
  });

  const status = document.getElementById("topicStatus");
  if(gained>0){
    currentUser.stars += gained;
    saveCurrent();
    updateTopStars();
    if(status){
      status.textContent = `Well done! You gained ${gained} star(s).`;
    }
  }else{
    if(status){
      status.textContent = "No correct answers yet. Try again!";
    }
  }
}

/* ---------- TEACHER TABLE ---------- */

function renderTeacherTable(){
  const tbody = document.querySelector("#teacherTable tbody");
  tbody.innerHTML = "";
  const allStudents = [];
  classRanges.forEach(r=>{
    for(let code=r.from; code<=r.to; code++){
      const key = studentKey(code);
      let data = null;
      try{
        data = JSON.parse(localStorage.getItem(key));
      }catch(e){ data=null; }
      if(data) allStudents.push(data);
    }
  });
  if(allStudents.length===0){
    const tr = document.createElement("tr");
    const td = document.createElement("td");
    td.colSpan = 5;
    td.textContent =
      "No student data in this browser yet. Ask students to log in and work with tasks.";
    tr.appendChild(td);
    tbody.appendChild(tr);
    return;
  }
  allStudents.sort((a,b)=>a.code-b.code);
  allStudents.forEach(s=>{
    const tr = document.createElement("tr");
    const cls = document.createElement("td");
    cls.textContent = s.classLabel || getClassByCode(s.code) || "";
    const codeTd = document.createElement("td");
    codeTd.textContent = s.code;
    const nameTd = document.createElement("td");
    nameTd.textContent = s.name || "";
    const starsTd = document.createElement("td");
    starsTd.textContent = s.stars ?? 0;
    const loginTd = document.createElement("td");
    loginTd.textContent = s.lastLogin || "";
    tr.appendChild(cls);
    tr.appendChild(codeTd);
    tr.appendChild(nameTd);
    tr.appendChild(starsTd);
    tr.appendChild(loginTd);
    tbody.appendChild(tr);
  });
}

/* ---------- INIT & STARS ---------- */

function updateTopStars() {
  if (!currentUser) return;
  const topStarsEl = document.getElementById("topStars");
  if (topStarsEl) {
    topStarsEl.textContent = currentUser.stars;
  }
  const menuStarsEl = document.getElementById("menuStars");
  if (menuStarsEl) {
    menuStarsEl.textContent = currentUser.stars;
  }
}

// —Å—Ç–∞—Ä—Ç—É–µ–º —Å —ç–∫—Ä–∞–Ω–∞ –ª–æ–≥–∏–Ω–∞
showOnly("loginScreen");
</script>
</body>
</html>
